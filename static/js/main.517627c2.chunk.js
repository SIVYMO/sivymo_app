(this.webpackJsonpsivymo_app=this.webpackJsonpsivymo_app||[]).push([[0],{39:function(e,t,a){},65:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(13),i=a.n(s),r=(a(65),a(66),a(67),a(68),a(69),a(7)),l="\xdaltima b\xfasqueda de patentes: ",o="\xdaltima b\xfasqueda de marcas: ",d="\xdaltima actualizaci\xf3n en expedientes: ",j="Logo Novopatent",u={type:"success",title:"El c\xf3digo es correcto",description:"Redirigiendo..."},b={type:"info",title:"Cargando...",description:"Por favor espere"},p="Correo electr\xf3nico:",m={type:"error",title:"Correo electr\xf3nico y/o contrase\xf1a incorrectos",description:"Por favor verif\xedquelos nuevamente"},h={type:"success",title:"Usuario guardado correctamente",description:"Los datos del usuario se han actualizado"},O={type:"error",title:"Campos no v\xe1lidos",description:"Algunos campos tienen caracteres especiales o est\xe1n vac\xedos"},x={type:"success",title:"Usuario eliminado correctamente",description:"Los datos del usuario se han actualizado"},f={type:"success",title:"Contrase\xf1a guardada correctamente",description:"La contrase\xf1a del usuario se han actualizado"},v={type:"error",title:"Las contrase\xf1as no coinciden o est\xe1n vac\xedas",description:"Verificar los campos de las contrase\xf1as"},g={type:"success",title:"Contrase\xf1a restablecida correctamente",description:"Se ha cambiado la contrase\xf1a"},N={type:"error",title:"No se ejecut\xf3 la operaci\xf3n",description:"Intente de nuevo"},y="Nombre:",S=" El nombre no debe estar vac\xedo y debe ser v\xe1lido",k="Primer apellido:",C=" El primer apellido no debe estar vac\xedo y debe ser v\xe1lido",w="Segundo apellido:",A="Fecha de nacimiento:",F="La fecha de nacimiento no debe estar vac\xeda y debe ser v\xe1lida",I="El correo electr\xf3nico no debe estar vac\xedo y debe ser v\xe1lido",D="Habilitar/Deshabilitar campos",L="Si",E="No",P=["Cargando","Espere a que los datos est\xe9n listos"],R={type:"success",title:"Expedientes guardados",description:"Se han actualizado correctamente"},q="Expedientes",z="Limpiar datos",M="Limpiar mensajes",T="Exportar resultados",B="Iniciar con la b\xfasqueda",J="No hay datos",V="Patentes",H="Marcas",U={type:"error",title:"No hay expedientes registrados",description:"Registra algunos para realizar b\xfasquedas"},G={type:"success",title:"B\xfasqueda realizada con \xe9xito",description:"Revisa si hubo coincidencias con los registros"},_={type:"error",title:"Ocurri\xf3 un error de conexi\xf3n",description:"Vuelve a intentarlo de nuevo"},W="Notificaciones de marcas",Y="Notificaciones de patentes",Z="Patentes, registros de modelos de utilidad y dise\xf1os industriales",K="Requisitos de forma y fondo, y abandonos notificados",Q="Realizando las b\xfasquedas necesarias",X="Iniciar b\xfasqueda",$="Puedes colocar alguna fecha en especifico o ignorar y continuar con la b\xfasqueda regular",ee="Fecha inicio:",te="Fecha fin:",ae="No se encontraron coincidencias",ce="Se encontraron coincidencias",ne=a(22),se=a(9),ie=a(3),re=(a(39),a(18)),le=a(19),oe=new(function(){function e(){Object(re.a)(this,e)}return Object(le.a)(e,[{key:"validateEmail",value:function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}},{key:"validateNames",value:function(e){var t=!0;if(""===e)return!1;for(var a=0;a<e.length;a++)if(-1==="\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xdaabcdefghijklmn\xf1opqrstuvwxyzABCDEFGHIJKLMN\xd1OPQRSTUVWXYZ ".indexOf(e.charAt(a))){t=!1;break}return t}},{key:"validateSecondSurname",value:function(e){return""===e||this.validateNames(e)}},{key:"convertAPIDate",value:function(e){return e.split("T")[0].replaceAll("-","/")}},{key:"convertInputDate",value:function(e){var t=JSON.stringify(e),a=t.substring(1,t.length-1);return this.convertAPIDate(a)}},{key:"convertOnlyInputDate",value:function(e){var t=JSON.stringify(e);return t.substring(1,t.length-1)}},{key:"validateDateStartEnd",value:function(e,t){return!(10===e.length&&10===t.length&&3===e.split("/").length&&3===t.split("/").length)}},{key:"validateFormUser",value:function(e,t,a,c,n){return this.validateNames(e)&&this.validateNames(t)&&this.validateSecondSurname(a)&&""!==c&&this.validateEmail(n)}},{key:"validatePassworsNoEmpty",value:function(e,t,a){return""!==e&&""!==t&&""!==a}},{key:"validateSameEmail",value:function(e,t){return e===t}}]),e}()),de=a.p+"static/media/logonovopatent.015ff878.jpg",je=a(10),ue=a(31),be=a(4),pe=a(20),me=a(33),he=a.n(me),Oe=he.a.create({baseURL:"https://sivymoapi-production.up.railway.app/novopatent-api",headers:{"Content-type":"application/json"}}),xe=new(function(){function e(){Object(re.a)(this,e)}return Object(le.a)(e,[{key:"resetPassword",value:function(e){return Oe.put("/reset-password/".concat(e))}},{key:"changePassword",value:function(e,t,a){return Oe.put("/change-password/".concat(e,"/").concat(t,"/").concat(a))}},{key:"login",value:function(e){return Oe.post("/login",e)}},{key:"getAll",value:function(){return Oe.get("/users")}},{key:"getOne",value:function(e){return Oe.get("/users/".concat(e))}},{key:"insertOne",value:function(e){return Oe.post("/users",e)}},{key:"updateOne",value:function(e){return Oe.put("/users",e)}},{key:"removeOne",value:function(e){return Oe.delete("/users/".concat(e))}}]),e}()),fe=a(2);function ve(){var e=Object(se.f)(),t=Object(c.useState)(""),a=Object(ie.a)(t,2),n=a[0],s=a[1],i=Object(c.useState)(""),r=Object(ie.a)(i,2),l=r[0],o=r[1],d=Object(c.useState)(""),h=Object(ie.a)(d,2),O=h[0],x=h[1],f=Object(c.useState)(""),v=Object(ie.a)(f,2),g=v[0],N=v[1],y=Object(c.useState)("p-d-block"),S=Object(ie.a)(y,2),k=S[0],C=S[1],w=Object(c.useState)("p-d-block"),A=Object(ie.a)(w,2),F=A[0],I=A[1],D=Object(c.useRef)(null);null!==localStorage.getItem("userActive")&&e.push("/inicio");var L=function(){D.current.clear()},E=function(e){var t=e.type,a=e.title,c=e.description;D.current.show({severity:t,summary:a,detail:c,sticky:!0})};return Object(fe.jsx)("div",{className:"pagelogin p-d-flex p-jc-center p-ai-center",children:Object(fe.jsxs)("div",{className:"card p-shadow-11 p-col-12 p-md-6 p-lg-4",children:[Object(fe.jsx)(pe.a,{ref:D}),Object(fe.jsx)("div",{className:"p-col p-text-center",children:Object(fe.jsx)("img",{src:de,alt:j,height:"90px"})}),Object(fe.jsxs)("div",{className:"p-col",children:[Object(fe.jsx)("div",{className:"p-text-center",style:{fontSize:"2em",fontWeight:"500"},children:"Inicio de sesi\xf3n"}),Object(fe.jsx)("div",{className:"p-text-center",children:"Favor de llenar todos los campos"}),Object(fe.jsxs)("div",{className:"p-mx-6 p-my-4",children:[Object(fe.jsx)("div",{className:"p-fluid",children:Object(fe.jsxs)("div",{className:"p-field",children:[Object(fe.jsx)("label",{htmlFor:"emailInput",className:"p-d-block",children:p}),Object(fe.jsx)(je.a,{className:k,id:"emailInput","aria-describedby":"emailInput-help",value:n,maxLength:"50",onChange:function(e){s(e.target.value)}}),Object(fe.jsx)("small",{id:"emailInput-help",className:"p-error p-d-block",children:O})]})}),Object(fe.jsx)("div",{className:"p-fluid",children:Object(fe.jsxs)("div",{className:"p-field",children:[Object(fe.jsx)("label",{htmlFor:"passwordInput",className:"p-d-block",children:"Contrase\xf1a:"}),Object(fe.jsx)(ue.a,{id:"passwordInput",toggleMask:!0,className:F,feedback:!1,maxLength:"50",value:l,onChange:function(e){o(e.target.value)}}),Object(fe.jsx)("small",{id:"passwordInput-help",className:"p-error p-d-block",children:g})]})}),Object(fe.jsx)("div",{className:"p-text-center",children:Object(fe.jsx)(be.a,{label:"Iniciar sesi\xf3n",icon:"pi pi-sign-in",className:"p-button-success",onClick:function(){if(n.length<=0||!oe.validateEmail(n)?(x("El email no debe estar vac\xedo y debe ser v\xe1lido"),C("p-invalid p-d-block")):(x(""),C("p-d-block")),l.length<=0?(N("La contrase\xf1a no debe estar vac\xeda"),I("p-invalid p-d-block")):(N(""),I("p-d-block")),n.length>0&&l.length>0&&oe.validateEmail(n)){var t={correo:n,contrasena:l};E(b),xe.login(t).then((function(t){L(),localStorage.setItem("userActive",JSON.stringify(t.data.usuario)),E(u),e.push("/inicio")})).catch((function(e){L(),console.error(e),E(m)}))}}})})]})]})]})})}var ge=a(6),Ne=new(function(){function e(){Object(re.a)(this,e)}return Object(le.a)(e,[{key:"getResume",value:function(){return Oe.get("/resume")}}]),e}()),ye=a(12),Se=a.n(ye);a(32);function ke(){var e=Object(c.useState)({}),t=Object(ie.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)({ultimaBusquedaPatentes:"",ultimaBusquedaMarcas:"",ultimaModificacionClientes:"",clientesTotales:0}),i=Object(ie.a)(s,2),r=i[0],j=i[1];Object(c.useEffect)((function(){Ne.getResume().then((function(e){var t=e.data;j(Object(ge.a)({},t)),localStorage.setItem("resume",JSON.stringify(t))})).catch((function(e){return console.error(e)})),n(JSON.parse(localStorage.getItem("userActive")))}),[]);var u=function(){return Object(fe.jsx)("img",{src:"https://random.imagecdn.app/1080/720",alt:"Fondo de portada",style:{width:"100%",height:"300px",objectFit:"cover"}})};var b=function(e){var t=e.icon,a=e.text,c=e.value;return Object(fe.jsx)("div",{className:"p-col-12 p-sm-3 card p-shadow-2",children:Object(fe.jsx)("div",{className:"p-d-flex p-d-flex p-jc-center p-ai-center",style:{height:"200px"},children:Object(fe.jsxs)("div",{className:"p-text-center",children:[Object(fe.jsx)("i",{className:t,style:{fontSize:"2em"}}),Object(fe.jsx)("div",{className:"p-mb-2 p-mt-1",style:{fontSize:"1.5em"},children:a}),Object(fe.jsx)("div",{className:"p-text-bold",style:{fontSize:"1.6em"},children:Se()(c).format("LLLL")})]})})})};return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsxs)("div",{className:"p-grid p-dir-col",children:[Object(fe.jsx)("div",{className:"p-col",children:Object(fe.jsxs)("h1",{children:["Hola, bienvenido(a) de nuevo"," ",Object(fe.jsx)("i",{children:"".concat(a.nombre," ").concat(a.primerApellido)})]})}),Object(fe.jsx)("div",{className:"p-col",children:Object(fe.jsx)(u,{})})]}),Object(fe.jsxs)("div",{className:"p-grid p-mt-3",children:[Object(fe.jsx)("div",{className:"p-col-12 p-sm-3 card p-shadow-2",style:{backgroundColor:0===r.clientesTotales?"var(--pink-100)":"var(--green-200)"},children:Object(fe.jsx)("div",{className:"p-d-flex p-d-flex p-jc-center p-ai-center",style:{height:"200px"},children:Object(fe.jsxs)("div",{className:"p-text-center",children:[Object(fe.jsx)("i",{className:"pi pi-user",style:{fontSize:"2em"}}),Object(fe.jsx)("div",{className:"p-mb-2 p-mt-1",style:{fontSize:"1.5em"},children:"Total de expedientes:"}),Object(fe.jsx)("div",{className:"p-text-bold",style:{fontSize:"5em"},children:r.clientesTotales})]})})}),Object(fe.jsx)(b,{icon:"pi pi-file",text:l,value:r.ultimaBusquedaPatentes}),Object(fe.jsx)(b,{icon:"pi pi-globe",text:o,value:r.ultimaBusquedaMarcas}),Object(fe.jsx)(b,{icon:"pi pi-id-card",text:d,value:r.ultimaModificacionClientes})]})]})}Se.a.locale("es");var Ce=a(54),we=a(55);function Ae(){var e=Object(se.f)(),t=[{label:"Inicio",icon:"pi pi-fw pi-home",command:function(){e.push("/inicio")}},{label:"Patentes",icon:"pi pi-fw pi-file",command:function(){e.push("/patentes")}},{label:"Marcas",icon:"pi pi-fw pi-globe",command:function(){e.push("/marcas")}},{label:"Expedientes",icon:"pi pi-fw pi-id-card",command:function(){e.push("/expedientes")}},{label:"Perfil",icon:"pi pi-fw pi-user",command:function(){e.push("/perfil")}}],a=Object(fe.jsx)("img",{alt:j,src:de,height:"50",className:"p-mr-2",onClick:function(){e.push("/inicio")}}),c=Object(fe.jsx)(be.a,{className:"p-button-success",onClick:function(){Object(we.a)({message:"\xbfEst\xe1s seguro de salir del sistema?",header:"Salir",icon:"pi pi-exclamation-triangle",acceptClassName:"p-button-success",rejectClassName:"p-button-plain p-button-text",accept:function(){localStorage.clear(),e.push("/")}})},label:"Salir",icon:"pi pi-sign-out"});return Object(fe.jsx)("div",{className:"p-grid p-m-1",children:Object(fe.jsx)("div",{className:"p-col",children:Object(fe.jsx)("div",{className:"card",children:Object(fe.jsx)(Ce.a,{model:t,start:a,end:c})})})})}function Fe(){var e=Object(se.f)();return null===localStorage.getItem("userActive")&&e.push("/"),Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(Ae,{}),Object(fe.jsx)("div",{className:"p-grid p-d-flex",children:Object(fe.jsx)("div",{className:"p-col-10 p-offset-1",children:Object(fe.jsx)(ke,{})})})]})}var Ie=a(21),De=a(29),Le=a(26),Ee=a(5),Pe=a(25),Re=a(34),qe=a(23),ze=a(35),Me=a(24),Te=new(function(){function e(){Object(re.a)(this,e)}return Object(le.a)(e,[{key:"getAll",value:function(){return Oe.get("/clients")}},{key:"insertAll",value:function(e){return Oe.post("/clientsAll",e)}},{key:"insertOne",value:function(e){return Oe.post("/clientsOne",e)}}]),e}()),Be=he.a.create({baseURL:"http://localhost:8081",headers:{"Content-type":"application/json"}}),Je=new(function(){function e(){Object(re.a)(this,e)}return Object(le.a)(e,[{key:"getPatentes",value:function(e){return Be.post("/patentes",e)}},{key:"getMarcas",value:function(e){return Be.post("marcas",e)}}]),e}()),Ve=new(function(){function e(){Object(re.a)(this,e)}return Object(le.a)(e,[{key:"insertOne",value:function(e){return Oe.post("/history/".concat(e))}}]),e}()),He="#81BA8E";function Ue(){var e=Object(c.useState)(!1),t=Object(ie.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)({}),i=Object(ie.a)(s,2),r=i[0],o=i[1],d=Object(c.useState)([]),j=Object(ie.a)(d,2),u=j[0],b=j[1],p=Object(c.useState)([]),m=Object(ie.a)(p,2),h=m[0],O=m[1],x=Object(c.useState)([]),f=Object(ie.a)(x,2),v=f[0],g=f[1],N=Object(c.useState)(!1),y=Object(ie.a)(N,2),S=y[0],k=y[1],C=Object(c.useState)(!1),w=Object(ie.a)(C,2),A=w[0],F=w[1],I=Object(c.useState)(""),D=Object(ie.a)(I,2),L=D[0],E=D[1],R=Object(c.useState)(""),q=Object(ie.a)(R,2),H=q[0],W=q[1],ne=Object(c.useRef)(null),se=Object(c.useRef)(null),re=Object(c.useRef)(null),le=Object(c.useRef)(null);Object(c.useEffect)((function(){de()}),[]);var de=function(){o(JSON.parse(localStorage.getItem("resume")))};var je=function(){var e=Object(De.a)(Object(Ie.a)().mark((function e(){var t,a;return Object(Ie.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me();case 2:return t=e.sent,a={fechaInicio:L,fechaFin:H,datos:t,descargado:A},e.next=6,Je.getPatentes(a).then((function(e){ue(e.data),he(G),Ve.insertOne(1)})).catch((function(e){n(!1),he(_),console.log(e)}));case 6:n(!1),k(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(e){!1!==e[0].data?(window.onbeforeunload=function(){return"\xbfSeguro que quieres salir?"},b(e[0].data),he({type:"info",title:Y,description:ce})):he({type:"warn",title:Y,description:ae}),!1!==e[1].data?(window.onbeforeunload=function(){return"\xbfSeguro que quieres salir?"},O(e[1].data),he({type:"info",title:Z,description:ce})):he({type:"warn",title:Z,description:ae}),!1!==e[2].data?(window.onbeforeunload=function(){return"\xbfSeguro que quieres salir?"},g(e[2].data),he({type:"info",title:K,description:ce})):he({type:"warn",title:K,description:ae})},me=function(){return Te.getAll().then((function(e){return e.data})).catch((function(e){return console.error(e)}))},he=function(e){var t=e.type,a=e.title,c=e.description;ne.current.show({severity:t,summary:a,detail:c,sticky:!0})},Oe=function(e){return Object(fe.jsx)(c.Fragment,{children:Object(fe.jsx)("a",{href:e["Enlace electr\xf3nico"],target:"_blank",rel:"noreferrer",children:e["Enlace electr\xf3nico"]})})};function xe(){return Object(fe.jsxs)("div",{className:"p-grid p-col",children:[Object(fe.jsx)("h2",{children:Y}),Object(fe.jsxs)(Le.a,{ref:se,emptyMessage:J,paginator:!0,rows:7,value:u,children:[Object(fe.jsx)(Ee.a,{field:"N\xfamero del Oficio",header:"N\xfamero del Oficio",sortable:!0}),Object(fe.jsx)(Ee.a,{field:"Fecha del Oficio",header:"Fecha del Oficio",sortable:!0}),Object(fe.jsx)(Ee.a,{field:"Descripci\xf3n general del asunto",header:"Descripci\xf3n general del asunto",sortable:!0}),Object(fe.jsx)(Ee.a,{field:"Enlace electr\xf3nico",header:"Enlace electr\xf3nico",body:Oe,sortable:!0}),Object(fe.jsx)(Ee.a,{field:"Expediente",header:"Expediente",sortable:!0})]})]})}function ve(){return Object(fe.jsxs)("div",{className:"p-grid p-col",children:[Object(fe.jsx)("h2",{children:Z}),Object(fe.jsxs)(Le.a,{ref:re,emptyMessage:J,paginator:!0,rows:7,scrollable:!0,value:h,children:[Object(fe.jsx)(Ee.a,{field:"Oficina, No de Patente y Tipo de documento",header:"Oficina, No de Patente y Tipo de documento",headerStyle:{width:"17vh"},sortable:!0}),Object(fe.jsx)(Ee.a,{field:"N\xfamero de concesi\xf3n",header:"N\xfamero de concesi\xf3n",headerStyle:{width:"17vh"},sortable:!0}),Object(fe.jsx)(Ee.a,{field:"Tipo de documento",header:"Tipo de documento",headerStyle:{width:"17vh"},sortable:!0}),Object(fe.jsx)(Ee.a,{field:"N\xfamero de solicitud",header:"N\xfamero de solicitud",headerStyle:{width:"17vh"},sortable:!0}),Object(fe.jsx)(Ee.a,{field:"Fecha de presentaci\xf3n",header:"Fecha de presentaci\xf3n",headerStyle:{width:"17vh"},sortable:!0}),Object(fe.jsx)(Ee.a,{field:"Fecha de concesi\xf3n",header:"Fecha de concesi\xf3n",headerStyle:{width:"17vh"},sortable:!0}),Object(fe.jsx)(Ee.a,{field:"T\xedtulo",header:"T\xedtulo",headerStyle:{width:"17vh"},sortable:!0}),Object(fe.jsx)(Ee.a,{field:"Inventor(es)",header:"Inventor(es)",headerStyle:{width:"17vh"},sortable:!0}),Object(fe.jsx)(Ee.a,{field:"Titular",header:"Titular",headerStyle:{width:"17vh"},sortable:!0}),Object(fe.jsx)(Ee.a,{field:"Agente",header:"Agente",headerStyle:{width:"17vh"},sortable:!0})]})]})}function ge(){return Object(fe.jsxs)("div",{className:"p-grid p-col",children:[Object(fe.jsx)("h2",{children:K}),Object(fe.jsxs)(Le.a,{ref:le,emptyMessage:J,paginator:!0,rows:7,value:v,children:[Object(fe.jsx)(Ee.a,{field:"N\xfamero de expediente",header:"N\xfamero de expediente",sortable:!0}),Object(fe.jsx)(Ee.a,{field:"Solicitante(s)",header:"Solicitante(s)",sortable:!0}),Object(fe.jsx)(Ee.a,{field:"N\xfamero del Oficio",header:"N\xfamero del Oficio",sortable:!0}),Object(fe.jsx)(Ee.a,{field:"Agente",header:"Agente",sortable:!0})]})]})}return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(Pe.a,{model:[{label:V}],home:{icon:"pi pi-home"}}),Object(fe.jsx)(pe.a,{ref:ne}),Object(fe.jsxs)("div",{className:"p-grid",children:[Object(fe.jsxs)("div",{className:"p-col p-p-3",children:[Object(fe.jsx)("h1",{children:V}),Object(fe.jsxs)("div",{children:[l,Se()(r.ultimaBusquedaPatentes).format("LLLL")]})]}),Object(fe.jsx)("div",{className:"p-d-flex p-ai-center p-py-2",children:Object(fe.jsx)(be.a,{label:B,icon:"pi pi-search",className:"p-button-lg p-ml-auto",style:{backgroundColor:"var(--green-600)"},onClick:function(){F(!1),W(oe.convertInputDate(new Date)),E(oe.convertAPIDate(r.ultimaBusquedaPatentes)),r.clientesTotales>0?n(!0):he(U)}})})]}),Object(fe.jsxs)("div",{className:"p-grid p-dir-col",children:[Object(fe.jsx)("div",{className:"p-col",children:Object(fe.jsxs)("div",{className:"p-d-flex p-ai-center export-buttons",children:[Object(fe.jsx)(be.a,{type:"button",className:"p-mr-2",icon:"pi pi-download",label:T,style:{backgroundColor:"var(--teal-600)"},onClick:function(){se.current.exportCSV(),re.current.exportCSV(),le.current.exportCSV()}}),Object(fe.jsx)(be.a,{type:"button",icon:"pi pi-times",label:z,className:"p-button-info  p-mr-2",onClick:function(){b([]),O([]),g([])}}),Object(fe.jsx)(be.a,{type:"button",icon:"pi pi-comments",label:M,className:"p-button-help",onClick:function(){ne.current.clear()}})]})}),Object(fe.jsx)("div",{className:"p-col",children:Object(fe.jsx)(xe,{})}),Object(fe.jsx)("div",{className:"p-col",children:Object(fe.jsx)(ve,{})}),Object(fe.jsx)("div",{className:"p-col",children:Object(fe.jsx)(ge,{})})]}),Object(fe.jsx)(qe.a,{showHeader:!1,visible:a,draggable:!1,closable:!1,onHide:function(){},children:Object(fe.jsx)("div",{className:"p-grid",children:Object(fe.jsx)("div",{className:"p-col",children:S?Object(fe.jsx)(fe.Fragment,{children:Object(fe.jsxs)("div",{className:"p-col p-col-align-center",children:[Object(fe.jsx)("h1",{children:P[0]}),Object(fe.jsx)("div",{children:Q}),Object(fe.jsx)(Re.a,{mode:"indeterminate",color:He,style:{height:"6px"}})]})}):Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("h1",{children:X}),Object(fe.jsx)("p",{children:$}),Object(fe.jsxs)("div",{className:"p-text-center",children:[Object(fe.jsxs)("div",{className:"p-field",children:[Object(fe.jsx)("label",{htmlFor:"dateStartInput",className:"p-d-block",children:ee}),Object(fe.jsx)(Me.a,{id:"dateStartInput",dateFormat:"yy/mm/dd",mask:"9999/99/99",value:L,monthNavigator:!0,yearNavigator:!0,yearRange:"2010:2030",placeholder:L,disabled:A,onChange:function(e){var t=oe.convertInputDate(e.target.value);E(t)}})]}),Object(fe.jsxs)("div",{className:"p-field",children:[Object(fe.jsx)("label",{htmlFor:"dateEndInput",className:"p-d-block",children:te}),Object(fe.jsx)(Me.a,{id:"dateEndInput",dateFormat:"yy/mm/dd",mask:"9999/99/99",value:H,monthNavigator:!0,yearNavigator:!0,yearRange:"2010:2030",placeholder:H,disabled:A,onChange:function(e){var t=oe.convertInputDate(e.target.value);W(t)}})]}),Object(fe.jsxs)("div",{className:" p-field-checkbox",children:[Object(fe.jsx)(ze.a,{inputId:"filesReady",checked:A,onChange:function(e){return F(e.checked)}}),Object(fe.jsx)("label",{htmlFor:"filesReady",children:"Ya cuento con los archivos descargados"})]})]}),Object(fe.jsxs)("div",{className:"p-ai-center p-text-center",children:[Object(fe.jsx)(be.a,{type:"button",className:"p-mr-2 p-button-danger",label:"Cancelar",onClick:function(){n(!1)}}),Object(fe.jsx)(be.a,{type:"button",className:"p-mr-2 p-button-success",label:"Buscar",disabled:oe.validateDateStartEnd(L,H),onClick:function(){k(!0),je()}})]})]})})})})]})}function Ge(){var e=Object(se.f)();return null===localStorage.getItem("userActive")&&e.push("/"),Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(Ae,{}),Object(fe.jsx)("div",{className:"p-grid p-d-flex",children:Object(fe.jsx)("div",{className:"p-col-10 p-offset-1",children:Object(fe.jsx)(Ue,{})})})]})}function _e(){var e=Object(c.useState)(!1),t=Object(ie.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)({}),i=Object(ie.a)(s,2),r=i[0],l=i[1],d=Object(c.useState)([]),j=Object(ie.a)(d,2),u=j[0],b=j[1],p=Object(c.useState)(""),m=Object(ie.a)(p,2),h=m[0],O=m[1],x=Object(c.useState)(""),f=Object(ie.a)(x,2),v=f[0],g=f[1],N=Object(c.useState)(!1),y=Object(ie.a)(N,2),S=y[0],k=y[1],C=Object(c.useState)(!1),w=Object(ie.a)(C,2),A=w[0],F=w[1],I=Object(c.useRef)(null),D=Object(c.useRef)(null);Object(c.useEffect)((function(){L()}),[]);var L=function(){l(JSON.parse(localStorage.getItem("resume")))};var E=function(){var e=Object(De.a)(Object(Ie.a)().mark((function e(){var t,a;return Object(Ie.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return t=e.sent,a={fechaInicio:h,fechaFin:v,datos:t,descargado:S},e.next=6,Je.getMarcas(a).then((function(e){Ve.insertOne(2),R(e.data),V(G)})).catch((function(e){n(!1),V(_),console.log(e)}));case 6:n(!1),F(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(e){!1!==e.data?(b(e.data),V({type:"info",title:W,description:ce}),window.onbeforeunload=function(){return"\xbfSeguro que quieres salir?"}):V({type:"warn",title:W,description:ae})},q=function(){return Te.getAll().then((function(e){return e.data})).catch((function(e){return console.error(e)}))},V=function(e){var t=e.type,a=e.title,c=e.description;I.current.show({severity:t,summary:a,detail:c,sticky:!0})};return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(Pe.a,{model:[{label:H}],home:{icon:"pi pi-home"}}),Object(fe.jsx)(pe.a,{ref:I}),Object(fe.jsxs)("div",{className:"p-grid",children:[Object(fe.jsxs)("div",{className:"p-col p-p-3",children:[Object(fe.jsx)("h1",{children:H}),Object(fe.jsxs)("div",{children:[o,Se()(r.ultimaBusquedaMarcas).format("LLLL")]})]}),Object(fe.jsx)("div",{className:"p-d-flex p-ai-center p-py-2",children:Object(fe.jsx)(be.a,{label:B,icon:"pi pi-search",className:"p-button-lg p-ml-auto",style:{backgroundColor:"var(--green-600)"},onClick:function(){k(!1),g(oe.convertInputDate(new Date)),O(oe.convertAPIDate(r.ultimaBusquedaMarcas)),r.clientesTotales>0?n(!0):V(U)}})})]}),Object(fe.jsxs)("div",{className:"p-grid p-dir-col",children:[Object(fe.jsx)("div",{className:"p-col",children:Object(fe.jsxs)("div",{className:"p-d-flex p-ai-center export-buttons",children:[Object(fe.jsx)(be.a,{type:"button",icon:"pi pi-download",className:"p-mr-2",label:T,style:{backgroundColor:"var(--teal-600)"},onClick:function(){D.current.exportCSV()}}),Object(fe.jsx)(be.a,{type:"button",icon:"pi pi-times",label:z,className:"p-button-info p-mr-2",onClick:function(){b([])}}),Object(fe.jsx)(be.a,{type:"button",icon:"pi pi-comments",label:M,className:"p-button-help",onClick:function(){I.current.clear()}})]})}),Object(fe.jsxs)("div",{className:"p-col",children:[Object(fe.jsx)("h2",{children:W}),Object(fe.jsxs)(Le.a,{value:u,ref:D,emptyMessage:J,paginator:!0,scrollable:!0,rows:7,children:[Object(fe.jsx)(Ee.a,{field:"Expediente",header:"Expediente",headerStyle:{width:"20vh"},sortable:!0}),Object(fe.jsx)(Ee.a,{field:"Descripci\xf3n del oficio",header:"Descripci\xf3n del oficio",headerStyle:{width:"20vh"},sortable:!0}),Object(fe.jsx)(Ee.a,{field:"Fecha del oficio",header:"Fecha del oficio",headerStyle:{width:"20vh"},sortable:!0}),Object(fe.jsx)(Ee.a,{field:"N\xfamero del oficio",header:"N\xfamero del oficio",headerStyle:{width:"20vh"},sortable:!0}),Object(fe.jsx)(Ee.a,{field:"Enlace electr\xf3nico",header:"Enlace electr\xf3nico",headerStyle:{width:"20vh"},body:function(e){return Object(fe.jsx)(c.Fragment,{children:Object(fe.jsx)("a",{href:e["Enlace electr\xf3nico"],target:"_blank",rel:"noreferrer",children:e["Enlace electr\xf3nico"]})})},sortable:!0})]})]})]}),Object(fe.jsx)(qe.a,{showHeader:!1,visible:a,draggable:!1,closable:!1,children:Object(fe.jsx)("div",{className:"p-grid",children:Object(fe.jsx)("div",{className:"p-col",children:A?Object(fe.jsxs)("div",{className:"p-col p-col-align-center",children:[Object(fe.jsx)("h1",{children:P[0]}),Object(fe.jsx)("div",{children:Q}),Object(fe.jsx)(Re.a,{mode:"indeterminate",color:He,style:{height:"6px"}})]}):Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("h1",{children:X}),Object(fe.jsx)("p",{children:$}),Object(fe.jsxs)("div",{className:"p-text-center",children:[Object(fe.jsxs)("div",{className:"p-field",children:[Object(fe.jsx)("label",{htmlFor:"dateStartInput",className:"p-d-block",children:ee}),Object(fe.jsx)(Me.a,{id:"dateStartInput",dateFormat:"yy/mm/dd",mask:"9999/99/99",value:h,monthNavigator:!0,yearNavigator:!0,yearRange:"2010:2030",placeholder:h,disabled:S,onChange:function(e){var t=oe.convertInputDate(e.target.value);O(t)}})]}),Object(fe.jsxs)("div",{className:"p-field",children:[Object(fe.jsx)("label",{htmlFor:"dateEndInput",className:"p-d-block",children:te}),Object(fe.jsx)(Me.a,{id:"dateEndInput",dateFormat:"yy/mm/dd",mask:"9999/99/99",value:v,monthNavigator:!0,yearNavigator:!0,yearRange:"2010:2030",placeholder:v,disabled:S,onChange:function(e){var t=oe.convertInputDate(e.target.value);g(t)}})]}),Object(fe.jsxs)("div",{className:" p-field-checkbox",children:[Object(fe.jsx)(ze.a,{inputId:"filesReady",checked:S,onChange:function(e){return k(e.checked)}}),Object(fe.jsx)("label",{htmlFor:"filesReady",children:"Ya cuento con los archivos descargados"})]})]}),Object(fe.jsxs)("div",{className:"p-ai-center p-text-center",children:[Object(fe.jsx)(be.a,{type:"button",className:"p-mr-2 p-button-danger",label:"Cancelar",onClick:function(){n(!1)}}),Object(fe.jsx)(be.a,{type:"button",className:"p-mr-2 p-button-success",label:"Buscar",disabled:oe.validateDateStartEnd(h,v),onClick:function(){F(!0),E()}})]})]})})})})]})}function We(){var e=Object(se.f)();return null===localStorage.getItem("userActive")&&e.push("/"),Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(Ae,{}),Object(fe.jsx)("div",{className:"p-grid p-d-flex",children:Object(fe.jsx)("div",{className:"p-col-10 p-offset-1",children:Object(fe.jsx)(_e,{})})})]})}Se.a.locale("es"),Se.a.locale("es");var Ye=a(56),Ze=a(42);function Ke(){var e=Object(c.useState)({}),t=Object(ie.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)([]),i=Object(ie.a)(s,2),r=i[0],l=i[1],o=Object(c.useState)([]),j=Object(ie.a)(o,2),u=j[0],b=j[1],p=Object(c.useState)(""),m=Object(ie.a)(p,2),h=m[0],O=m[1],x=Object(c.useState)(""),f=Object(ie.a)(x,2),v=f[0],g=f[1],y=Object(c.useRef)(null);Object(c.useEffect)((function(){S()}),[]);var S=function(){n(JSON.parse(localStorage.getItem("resume")))},k=function(){var e=Object(De.a)(Object(Ie.a)().mark((function e(){var t,a,c,n,s,i,r,l,o=arguments;return Object(Ie.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=o.length>0&&void 0!==o[0]?o[0]:[],a=[],c=!1,n=!1,e.prev=4,i=Object(Ye.a)(t);case 6:return e.next=8,i.next();case 8:if(!(c=!(r=e.sent).done)){e.next=15;break}(l=(l=r.value).trim()).length>2&&a.push(l);case 12:c=!1,e.next=6;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),n=!0,s=e.t0;case 21:if(e.prev=21,e.prev=22,!c||null==i.return){e.next=26;break}return e.next=26,i.return();case 26:if(e.prev=26,!n){e.next=29;break}throw s;case 29:return e.finish(26);case 30:return e.finish(21);case 31:return e.abrupt("return",a);case 32:case"end":return e.stop()}}),e,null,[[4,17,21,31],[22,,26,30]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(De.a)(Object(Ie.a)().mark((function e(){var t,a,c,n,s,i,l;return Object(Ie.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(),e.next=3,k(r);case 3:t=e.sent,a=t.splice(0,t.length/2),c=a.splice(0,a.length/2),n=a.splice(0,a.length),s=t.splice(0,t.length),i=s.splice(0,s.length/2),l=s.splice(0,s.length),Te.insertAll(c).then((function(e){e.data?Promise.all([Te.insertOne(n),Te.insertOne(i),Te.insertOne(l)]).then((function(e){e[0].data&&e[1].data&&e[2].data?(F(),D(),w(),L(R)):L(N)})).catch((function(e){F(),console.error(e),L(N)})):L(N)})).catch((function(e){F(),console.error(e),L(N)}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){l([]),O(""),L({type:"info",title:"Se han limpiado todos expedientes",description:"Limpiado"})},A=function(){b([]),g(""),L({type:"info",title:"Se han limpiado los expedientes",description:"Limpiado"})},F=function(){y.current.clear()},I=function(){y.current.show({severity:"info",sticky:!0,content:Object(fe.jsx)("div",{className:"p-flex p-flex-column",style:{flex:"1"},children:Object(fe.jsxs)("div",{className:"p-text-center",children:[Object(fe.jsx)("i",{className:"pi pi-spin pi-spinner",style:{fontSize:"3em"}}),Object(fe.jsx)("h4",{children:P[0]}),Object(fe.jsx)("p",{children:P[1]})]})})})},D=function(){Ve.insertOne(3)},L=function(e){var t=e.type,a=e.title,c=e.description;y.current.show({severity:t,summary:a,detail:c,life:3e3})};return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(Pe.a,{model:[{label:q}],home:{icon:"pi pi-home"}}),Object(fe.jsx)(pe.a,{ref:y}),Object(fe.jsx)("div",{className:"p-grid",children:Object(fe.jsxs)("div",{className:"p-col p-p-3",children:[Object(fe.jsx)("h1",{children:q}),Object(fe.jsxs)("div",{children:[d,Se()(a.ultimaModificacionClientes).format("LLLL")]}),Object(fe.jsxs)("div",{className:"p-grid p-mt-3",children:[Object(fe.jsxs)("div",{className:"p-col-12 p-sm-6",children:[Object(fe.jsxs)("div",{className:"p-grid",children:[Object(fe.jsx)("div",{className:"p-col-12 p-sm-8",children:Object(fe.jsxs)("h2",{children:["Guardar todos los expedientes :"," ",Object(fe.jsx)("span",{children:r.length})]})}),Object(fe.jsxs)("div",{className:"p-col-12 p-sm-4 p-mt-0 p-mt-sm-2",children:[Object(fe.jsx)(be.a,{type:"button",icon:"pi pi-times",label:"Limpiar",className:"p-button-info p-mr-1",onClick:w,disabled:r.length<=0}),Object(fe.jsx)(be.a,{type:"button",icon:"pi pi-save",label:"Guardar",className:"p-button-success",onClick:C,disabled:r.length<=0})]})]}),Object(fe.jsx)(Ze.a,{value:h,rows:20,autoResize:!0,style:{width:"100%"},onChange:function(e){O(e.target.value),l(e.target.value.split("\n"))}})]}),Object(fe.jsxs)("div",{className:"p-col-12 p-sm-6",children:[Object(fe.jsxs)("div",{className:"p-grid",children:[Object(fe.jsx)("div",{className:"p-col",children:Object(fe.jsxs)("h2",{children:["A\xf1adir m\xe1s expedientes : ",Object(fe.jsx)("span",{children:u.length})]})}),Object(fe.jsxs)("div",{className:"p-col-12 p-sm-4 p-mt-0 p-mt-sm-2",children:[Object(fe.jsx)(be.a,{type:"button",icon:"pi pi-times",label:"Limpiar",className:"p-button-info p-mr-1",onClick:A,disabled:u.length<=0}),Object(fe.jsx)(be.a,{type:"button",icon:"pi pi-save",label:"Guardar",className:"p-button-warning",onClick:function(){I();var e=k(u);Te.insertOne(e).then((function(e){F(),e?(D(),A(),L(R)):L(N)})).catch((function(e){F(),console.error(e),L(N)}))},disabled:u.length<=0})]})]}),Object(fe.jsx)(Ze.a,{value:v,rows:20,autoResize:!0,style:{width:"100%"},onChange:function(e){g(e.target.value),b(e.target.value.split("\n"))}})]})]})]})})]})}function Qe(){var e=Object(se.f)();return null===localStorage.getItem("userActive")&&e.push("/"),Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(Ae,{}),Object(fe.jsx)("div",{className:"p-grid p-d-flex",children:Object(fe.jsx)("div",{className:"p-col-10 p-offset-1",children:Object(fe.jsx)(Ke,{})})})]})}Se.a.locale("es");var Xe=a(37);function $e(){var e=Object(c.useState)(!0),t=Object(ie.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(!0),i=Object(ie.a)(s,2),r=i[0],l=i[1],o=Object(c.useRef)(null),d=Object(se.f)();Object(c.useEffect)((function(){m(JSON.parse(localStorage.getItem("userActive")))}),[]);var j=Object(c.useState)({nombre:"",primerApellido:"",segundoApellido:"",fechaDeNacimiento:"",correo:"",superAdmin:!1}),u=Object(ie.a)(j,2),b=u[0],m=u[1],x=Object(c.useState)({"contrase\xf1aActual":"****","nuevaContrase\xf1a":"****","repetirNuevaContrase\xf1a":"****"}),g=Object(ie.a)(x,2),L=g[0],E=g[1],P=function(e){var t=e.type,a=e.title,c=e.description;o.current.show({severity:t,summary:a,detail:c,life:3e3})};return Object(fe.jsxs)("div",{className:"p-grid",children:[Object(fe.jsx)(pe.a,{ref:o}),Object(fe.jsxs)("div",{className:"p-col p-p-3",children:[Object(fe.jsx)("h2",{children:"Tu informaci\xf3n"}),Object(fe.jsxs)("div",{className:"p-fluid",children:[Object(fe.jsxs)("div",{className:"p-field",children:[Object(fe.jsx)("label",{htmlFor:"nombre",children:y}),Object(fe.jsx)(je.a,{id:"nombre",name:"nombre",type:"text",disabled:a,value:b.nombre,onChange:function(e){m(Object(ge.a)(Object(ge.a)({},b),{},{nombre:e.target.value}))},className:!b.nombre&&"p-invalid"}),!b.nombre&&Object(fe.jsx)("small",{id:"nombre-help",className:"p-error p-d-block",children:S})]}),Object(fe.jsxs)("div",{className:"p-field",children:[Object(fe.jsx)("label",{htmlFor:"primerApellido",children:k}),Object(fe.jsx)(je.a,{id:"primerApellido",name:"primerApellido",type:"text",disabled:a,value:b.primerApellido,onChange:function(e){m(Object(ge.a)(Object(ge.a)({},b),{},{primerApellido:e.target.value}))},className:!b.primerApellido&&"p-invalid"}),!b.primerApellido&&Object(fe.jsx)("small",{id:"primerApellido-help",className:"p-error p-d-block",children:C})]}),Object(fe.jsxs)("div",{className:"p-field",children:[Object(fe.jsx)("label",{htmlFor:"segundoApellido",children:w}),Object(fe.jsx)(je.a,{id:"segundoApellido",name:"segundoApellido",type:"text",disabled:a,value:b.segundoApellido,onChange:function(e){m(Object(ge.a)(Object(ge.a)({},b),{},{segundoApellido:e.target.value}))}})]}),Object(fe.jsxs)("div",{className:"p-field",children:[Object(fe.jsx)("label",{htmlFor:"fechaDeNacimiento",children:A}),Object(fe.jsx)(Me.a,{id:"fechaDeNacimiento",name:"fechaDeNacimiento",monthNavigator:!0,yearNavigator:!0,showIcon:!0,yearRange:"1950:2010",dateFormat:"yy-mm-dd",placeholder:b.fechaDeNacimiento.split("T")[0],disabled:a,value:b.fechaDeNacimiento,onChange:function(e){var t=oe.convertOnlyInputDate(e.target.value);m(Object(ge.a)(Object(ge.a)({},b),{},{fechaDeNacimiento:t}))}}),!b.fechaDeNacimiento&&Object(fe.jsx)("small",{id:"fechaDeNacimiento-help",className:"p-error p-d-block",children:F})]}),Object(fe.jsxs)("div",{className:"p-field",children:[Object(fe.jsx)("label",{htmlFor:"correo",children:p}),Object(fe.jsx)(je.a,{id:"correo",name:"correo",type:"correo",disabled:a,value:b.correo,onChange:function(e){m(Object(ge.a)(Object(ge.a)({},b),{},{correo:e.target.value}))},className:!b.correo&&"p-invalid"}),!b.correo&&Object(fe.jsx)("small",{id:"correo-help",className:"p-error p-d-block",children:I})]})]}),Object(fe.jsxs)("div",{className:"p-text-center",children:[Object(fe.jsx)(be.a,{label:D,className:"p-button-link p-mr-2",onClick:function(){n(!a)}}),Object(fe.jsx)(be.a,{label:"Actualizar informaci\xf3n",className:"p-button-success p-ml-2",disabled:a,onClick:function(){var e,t=b.nombre,a=b.primerApellido,c=b.segundoApellido,n=b.fechaDeNacimiento,s=b.correo;oe.validateFormUser(t,a,c,n,s)?(e=b,xe.updateOne(e).then((function(e){m(e.data),localStorage.setItem("userActive",JSON.stringify(b)),P(h)})).catch((function(e){console.error(e),P(N)}))):P(O)}})]})]}),Object(fe.jsxs)("div",{className:"p-col p-p-3",children:[Object(fe.jsx)("h2",{children:"Cambio de contrase\xf1a"}),Object(fe.jsxs)("div",{className:"p-fluid",children:[Object(fe.jsxs)("div",{className:"p-field",children:[Object(fe.jsx)("label",{htmlFor:"contrase\xf1aActual",children:"Contrase\xf1a actual:"}),Object(fe.jsx)(ue.a,{id:"contrase\xf1aActual",name:"contrase\xf1aActual",toggleMask:!0,feedback:!1,maxLength:"50",disabled:r,value:L.contrase\u00f1aActual,onChange:function(e){E(Object(ge.a)(Object(ge.a)({},L),{},{"contrase\xf1aActual":e.target.value}))}}),!L.contrase\u00f1aActual&&Object(fe.jsx)("small",{id:"contrase\xf1aActual-help",className:"p-error p-d-block",children:"La contrase\xf1a actual no debe estar vac\xeda"})]}),Object(fe.jsxs)("div",{className:"p-field",children:[Object(fe.jsx)("label",{htmlFor:"nuevaContrase\xf1a",children:"Nueva contrase\xf1a:"}),Object(fe.jsx)(ue.a,{id:"nuevaContrase\xf1a",name:"nuevaContrase\xf1a",toggleMask:!0,feedback:!0,maxLength:"50",disabled:r,value:L.nuevaContrase\u00f1a,onChange:function(e){E(Object(ge.a)(Object(ge.a)({},L),{},{"nuevaContrase\xf1a":e.target.value}))}}),!L.nuevaContrase\u00f1a&&Object(fe.jsx)("small",{id:"nuevaContrase\xf1a-help",className:"p-error p-d-block",children:"La contrase\xf1a nueva no debe estar vac\xeda"})]}),Object(fe.jsxs)("div",{className:"p-field",children:[Object(fe.jsx)("label",{htmlFor:"repetirNuevaContrase\xf1a",children:"Repetir nueva contrase\xf1a:"}),Object(fe.jsx)(ue.a,{id:"repetirNuevaContrase\xf1a",name:"repetirNuevaContrase\xf1a",toggleMask:!0,feedback:!0,maxLength:"50",disabled:r,value:L.repetirNuevaContrase\u00f1a,onChange:function(e){E(Object(ge.a)(Object(ge.a)({},L),{},{"repetirNuevaContrase\xf1a":e.target.value}))}}),!L.repetirNuevaContrase\u00f1a&&Object(fe.jsx)("small",{id:"repetirNuevaContrase\xf1a-help",className:"p-error p-d-block",children:"La contrase\xf1a nueva no debe estar vac\xeda"})]})]}),Object(fe.jsxs)("div",{className:"p-text-center",children:[Object(fe.jsx)(be.a,{label:D,className:"p-button-link p-mr-2",onClick:function(){l(!r),E(r?{"contrase\xf1aActual":"","nuevaContrase\xf1a":"","repetirNuevaContrase\xf1a":""}:{"contrase\xf1aActual":"****","nuevaContrase\xf1a":"****","repetirNuevaContrase\xf1a":"****"})}}),Object(fe.jsx)(be.a,{label:"Actualizar contrase\xf1a",className:"p-button-success p-ml-2",disabled:r,onClick:function(){var e=L.contrase\u00f1aActual,t=L.nuevaContrase\u00f1a,a=L.repetirNuevaContrase\u00f1a;oe.validatePassworsNoEmpty(e,t,a)&&t===a?function(e){var t=e.contrase\u00f1aActual,a=e.nuevaContrase\u00f1a,c=e.repetirNuevaContrase\u00f1a;xe.changePassword(b.correo,t,a,c).then((function(e){e.data?(P(f),localStorage.clear(),d.push("/")):(N.description="Verifica que la contrase\xf1a actual sea correcta",P(N))})).catch((function(e){console.error(e),P(N)}))}(L):P(v)}})]})]})]})}var et=a(57),tt=a(58),at=a(43);function ct(){var e={nombre:"",primerApellido:"",segundoApellido:"",fechaDeNacimiento:"",correo:"",superAdmin:!1},t=Object(c.useState)([]),a=Object(ie.a)(t,2),s=a[0],i=a[1],r=Object(c.useState)(!1),l=Object(ie.a)(r,2),o=l[0],d=l[1],j=Object(c.useState)(!1),u=Object(ie.a)(j,2),b=u[0],m=u[1],f=Object(c.useState)(null),v=Object(ie.a)(f,2),D=v[0],P=v[1],R=Object(c.useState)(""),q=Object(ie.a)(R,2),z=q[0],M=q[1],T=Object(c.useState)(e),B=Object(ie.a)(T,2),J=B[0],V=B[1],H=Object(c.useState)(!1),U=Object(ie.a)(H,2),G=U[0],_=U[1],W=Object(c.useState)(!1),Y=Object(ie.a)(W,2),Z=Y[0],K=Y[1],Q=Object(c.useState)({}),X=Object(ie.a)(Q,2),$=X[0],ee=X[1],te=Object(c.useRef)(null),ae=Object(c.useRef)(null);Object(c.useEffect)((function(){ce()}),[]);var ce=function(){xe.getAll().then((function(e){i(e.data)})).catch((function(e){console.error(e),me(N)}))};var ne=function(){V(e),d(!0),_(!0)},se=function(){d(!1)},re=function(){m(!1)},le=function(){return K(!Z)},de=function(){ae.current.exportCSV()},ue=function(e){var t;t=e.correo,xe.resetPassword(t).then((function(e){e.data?(ee(e.data),le(),me(g)):me(N)})).catch((function(e){console.error(e),me(N)})),te.current.clear()},me=function(e){var t=e.type,a=e.title,c=e.description;te.current.show({severity:t,summary:a,detail:c,life:3e3})},he=Object(fe.jsxs)(n.a.Fragment,{children:[Object(fe.jsx)(be.a,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:se}),Object(fe.jsx)(be.a,{label:"Guardar",icon:"pi pi-check",className:"p-button-text",onClick:function(){var t=J.nombre,a=J.primerApellido,c=J.segundoApellido,n=J.fechaDeNacimiento,s=J.correo;oe.validateFormUser(t,a,c,n,s)?(G?(!function(e){xe.insertOne(e).then((function(e){ee(e.data),ce(),me(h)})).catch((function(e){console.error(e),me(N)}))}(J),le()):function(e){xe.updateOne(e).then((function(e){ce(),me(h)})).catch((function(e){console.error(e),me(N)}))}(J),_(!1)):me(O),d(!1),V(e)}})]}),Oe=Object(fe.jsxs)(n.a.Fragment,{children:[Object(fe.jsx)(be.a,{label:E,icon:"pi pi-times",className:"p-button-text",onClick:re}),Object(fe.jsx)(be.a,{label:L,icon:"pi pi-check",className:"p-button-text",onClick:function(){var t;t=J.correo,xe.removeOne(t).then((function(e){e.data?(ce(),me(x)):me(N)})).catch((function(e){console.error(e),me(N)})),m(!1),V(e)}})]}),ve=Object(fe.jsx)("div",{className:"table-header",children:Object(fe.jsxs)("span",{className:"p-input-icon-left",children:[Object(fe.jsx)("i",{className:"pi pi-search"}),Object(fe.jsx)(je.a,{type:"search",value:z,onInput:function(e){return M(e.target.value)},placeholder:"Buscar..."})]})});return Object(fe.jsxs)("div",{className:"p-grid",children:[Object(fe.jsx)(pe.a,{ref:te}),Object(fe.jsxs)("div",{className:"p-col p-p-3",children:[Object(fe.jsx)("h2",{children:"Tabla de usuarios"}),Object(fe.jsxs)("div",{className:"card",children:[Object(fe.jsx)(et.a,{className:"p-mb-4",left:function(){return Object(fe.jsx)(n.a.Fragment,{children:Object(fe.jsx)(be.a,{label:"Nuevo usuario",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:ne})})},right:function(){return Object(fe.jsx)(n.a.Fragment,{children:Object(fe.jsx)(be.a,{label:"Exportar en CSV",icon:"pi pi-download",className:"p-button",style:{backgroundColor:"var(--teal-600)"},onClick:de})})}}),Object(fe.jsxs)(Le.a,{ref:ae,value:s,selection:D,onSelectionChange:function(e){return P(e.value)},dataKey:"correo",paginator:!0,rows:7,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Mostrando {first} a {last} de {totalRecords} usuarios",globalFilter:z,header:ve,emptyMessage:"Sin ningun usuario a\xfan",children:[Object(fe.jsx)(Ee.a,{field:"nombre",header:"Nombre",sortable:!0}),Object(fe.jsx)(Ee.a,{field:"primerApellido",header:"Primer apellido",sortable:!0}),Object(fe.jsx)(Ee.a,{field:"segundoApellido",header:"Segundo apellido",sortable:!0}),Object(fe.jsx)(Ee.a,{field:"fechaDeNacimiento",header:"Fecha de nacimiento",body:function(e){return Object(fe.jsx)(n.a.Fragment,{children:Object(fe.jsx)("div",{children:Se()(e.fechaDeNacimiento).format("LL")})})},sortable:!0}),Object(fe.jsx)(Ee.a,{field:"correo",header:"Correo electr\xf3nico",sortable:!0}),Object(fe.jsx)(Ee.a,{field:"superAdmin",header:"Super administrador",body:function(e){return Object(fe.jsx)(n.a.Fragment,{children:e.superAdmin?Object(fe.jsx)(at.a,{value:L,severity:"success",className:"p-mr-2"}):Object(fe.jsx)(at.a,{value:E,className:"p-mr-2",severity:"danger"})})}}),Object(fe.jsx)(Ee.a,{header:"Acciones",body:function(e){return Object(fe.jsxs)(n.a.Fragment,{children:[Object(fe.jsx)(be.a,{icon:"pi pi-pencil",className:"p-button-rounded p-button-info p-mr-2",onClick:function(){return function(e){V(Object(ge.a)({},e)),d(!0)}(e)}}),Object(fe.jsx)(be.a,{icon:"pi pi-trash",className:"p-button-rounded p-button-danger p-mr-2",onClick:function(){return function(e){V(e),m(!0)}(e)}}),Object(fe.jsx)(be.a,{icon:"pi pi-replay",className:"p-button-rounded p-button-warning",onClick:function(){return function(e){te.current.show({severity:"warn",sticky:!0,content:Object(fe.jsxs)("div",{className:"p-flex p-flex-column",style:{flex:"1"},children:[Object(fe.jsxs)("div",{className:"p-text-center",children:[Object(fe.jsx)("i",{className:"pi pi-exclamation-triangle",style:{fontSize:"3rem"}}),Object(fe.jsx)("h4",{children:"\xbfRestablecer la contrase\xf1a de este usuario?"}),Object(fe.jsx)("p",{children:" Se le enviar\xe1 un correo electr\xf3nico a esa persona con la nueva contrase\xf1a"})]}),Object(fe.jsxs)("div",{className:"p-grid p-fluid",children:[Object(fe.jsx)("div",{className:"p-col",children:Object(fe.jsx)(be.a,{type:"button",label:L,className:"p-button-success",onClick:function(){return ue(e)}})}),Object(fe.jsx)("div",{className:"p-col",children:Object(fe.jsx)(be.a,{type:"button",label:E,className:"p-button-danger",onClick:function(){te.current.clear()}})})]})]})})}(e)}})]})}})]}),Object(fe.jsx)(qe.a,{visible:o,style:{width:"450px"},header:"Detalles de usuario",modal:!0,className:"p-fluid",footer:he,onHide:se,children:Object(fe.jsxs)("div",{className:"p-fluid",children:[Object(fe.jsxs)("div",{className:"p-field",children:[Object(fe.jsx)("label",{htmlFor:"nombre",children:y}),Object(fe.jsx)(je.a,{id:"nombre",name:"nombre",type:"text",value:J.nombre,onChange:function(e){V(Object(ge.a)(Object(ge.a)({},J),{},{nombre:e.target.value}))},className:!J.nombre&&"p-invalid"}),!J.nombre&&Object(fe.jsx)("small",{id:"nombre-help",className:"p-error p-d-block",children:S})]}),Object(fe.jsxs)("div",{className:"p-field",children:[Object(fe.jsx)("label",{htmlFor:"primerApellido",children:k}),Object(fe.jsx)(je.a,{id:"primerApellido",name:"primerApellido",type:"text",value:J.primerApellido,onChange:function(e){V(Object(ge.a)(Object(ge.a)({},J),{},{primerApellido:e.target.value}))},className:!J.primerApellido&&"p-invalid"}),!J.primerApellido&&Object(fe.jsx)("small",{id:"primerApellido-help",className:"p-error p-d-block",children:C})]}),Object(fe.jsxs)("div",{className:"p-field",children:[Object(fe.jsx)("label",{htmlFor:"segundoApellido",children:w}),Object(fe.jsx)(je.a,{id:"segundoApellido",name:"segundoApellido",type:"text",value:J.segundoApellido,onChange:function(e){V(Object(ge.a)(Object(ge.a)({},J),{},{segundoApellido:e.target.value}))}})]}),Object(fe.jsxs)("div",{className:"p-field",children:[Object(fe.jsx)("label",{htmlFor:"fechaDeNacimiento",children:A}),Object(fe.jsx)(Me.a,{id:"fechaDeNacimiento",name:"fechaDeNacimiento",monthNavigator:!0,yearNavigator:!0,yearRange:"1950:2010",showIcon:!0,placeholder:J.fechaDeNacimiento.split("T")[0],dateFormat:"yy-mm-d",value:J.fechaDeNacimiento,onChange:function(e){var t=oe.convertOnlyInputDate(e.target.value);V(Object(ge.a)(Object(ge.a)({},J),{},{fechaDeNacimiento:t}))}}),!J.fechaDeNacimiento&&Object(fe.jsx)("small",{id:"fechaDeNacimiento-help",className:"p-error p-d-block",children:F})]}),Object(fe.jsxs)("div",{className:"p-field",children:[Object(fe.jsx)("label",{htmlFor:"correo",children:p}),Object(fe.jsx)(je.a,{id:"correo",name:"correo",type:"email",value:J.correo,onChange:function(e){V(Object(ge.a)(Object(ge.a)({},J),{},{correo:e.target.value}))},className:!J.correo&&"p-invalid"}),!J.correo&&Object(fe.jsx)("small",{id:"correo-help",className:"p-error p-d-block",children:I})]}),Object(fe.jsxs)("div",{className:"p-field p-text-center",children:[Object(fe.jsx)("label",{htmlFor:"superAdmin",children:"Super administrador:"}),Object(fe.jsx)("br",{}),Object(fe.jsx)(tt.a,{id:"superAdmin",name:"superAdmin",checked:J.superAdmin,onChange:function(e){return V(Object(ge.a)(Object(ge.a)({},J),{},{superAdmin:!J.superAdmin}))}})]})]})}),Object(fe.jsx)(qe.a,{visible:b,style:{width:"450px"},header:"\xbfEliminar usuario?",modal:!0,footer:Oe,onHide:re,children:Object(fe.jsx)("div",{className:"confirmation-content",children:"El usuario se eliminar\xe1 permanente de la aplicaci\xf3n"})}),Object(fe.jsxs)(qe.a,{visible:Z,style:{width:"450px"},header:"Detalles de usuario",draggable:!1,onHide:le,footer:Object(fe.jsx)(be.a,{label:"\xa1Listo!",className:"p-button-success",onClick:le}),children:[Object(fe.jsxs)("div",{children:["Nombre completo:"," ",Object(fe.jsx)("span",{children:"".concat($.nombre," ").concat($.primerApellido," ").concat($.segundoApellido)})]}),Object(fe.jsxs)("div",{children:["Fecha de nacimiento:"," ",Object(fe.jsx)("span",{children:"".concat(Se()($.fechaDeNacimiento).format("LLL"))})]}),Object(fe.jsxs)("div",{children:["Correo: ",Object(fe.jsx)("span",{children:"".concat($.correo)})]}),Object(fe.jsxs)("div",{children:["Contrase\xf1a creada:"," ",Object(fe.jsx)("span",{children:"".concat($.contrasena)}),Object(fe.jsx)("p",{children:Object(fe.jsx)("i",{children:"Favor de guardar y cambiar la contrase\xf1a m\xe1s tarde"})})]})]})]})]})]})}function nt(){var e=Object(c.useState)({superAdmin:!1}),t=Object(ie.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)((function(){n(JSON.parse(localStorage.getItem("userActive")))}),[]),Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(Pe.a,{model:[{label:"Perfil"}],home:{icon:"pi pi-home"}}),Object(fe.jsx)("div",{className:"p-grid",children:Object(fe.jsx)("div",{className:"p-col",children:Object(fe.jsxs)(Xe.b,{children:[Object(fe.jsx)(Xe.a,{header:"Datos personales",leftIcon:"pi pi-fw pi-user",children:Object(fe.jsx)($e,{})}),a.superAdmin?Object(fe.jsx)(Xe.a,{header:"Tabla de usuarios",leftIcon:"pi pi-fw pi-pencil",children:Object(fe.jsx)(ct,{})}):Object(fe.jsx)("div",{className:"disable"})]})})})]})}function st(){var e=Object(se.f)();return null===localStorage.getItem("userActive")&&e.push("/"),Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(Ae,{}),Object(fe.jsx)("div",{className:"p-grid p-d-flex",children:Object(fe.jsx)("div",{className:"p-col-10 p-offset-1",children:Object(fe.jsx)(nt,{})})})]})}function it(){return Object(fe.jsx)("div",{className:"p-d-flex p-ai-center p-jc-center pageerror",children:Object(fe.jsx)("div",{className:"p-col-6",children:Object(fe.jsxs)("div",{className:"p-text-center",children:[Object(fe.jsx)("img",{src:de,alt:j,height:"100px"}),Object(fe.jsx)("div",{style:{fontSize:"8em",color:"#454545"},children:"404"}),Object(fe.jsx)("div",{style:{fontSize:"3em",color:"#454545"},children:"P\xe1gina no encontrada"}),Object(fe.jsx)("div",{style:{fontSize:"1.5em",color:"#454545"},children:"La p\xe1gina que est\xe1s buscando no existe o ha ocurrido un error"})]})})})}function rt(){return Object(fe.jsx)(ne.a,{children:Object(fe.jsxs)(se.c,{children:[Object(fe.jsx)(se.a,{path:"/",exact:!0,component:ve}),Object(fe.jsx)(se.a,{path:"/inicio",component:Fe}),Object(fe.jsx)(se.a,{path:"/patentes",component:Ge}),Object(fe.jsx)(se.a,{path:"/marcas",component:We}),Object(fe.jsx)(se.a,{path:"/expedientes",component:Qe}),Object(fe.jsx)(se.a,{path:"/perfil",component:st}),Object(fe.jsx)(se.a,{component:it})]})})}Se.a.locale("es"),Object(r.a)("es",{firstDayOfWeek:1,dayNames:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],dayNamesShort:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],dayNamesMin:["D","L","M","Mi","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],today:"Hoy",clear:"Claro",accept:"Si",reject:"No",choose:"Elija",upload:"Subir",cancel:"Cancelar",passwordPrompt:"Ingrese contrase\xf1a",weak:"D\xe9bil",medium:"Normal",strong:"Fuerte"}),Object(r.c)("es"),i.a.render(Object(fe.jsx)(n.a.StrictMode,{children:Object(fe.jsx)(rt,{})}),document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.517627c2.chunk.js.map