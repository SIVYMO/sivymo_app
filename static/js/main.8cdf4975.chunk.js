(this.webpackJsonpsivymo_app=this.webpackJsonpsivymo_app||[]).push([[0],{159:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),i=a(23),s=a.n(i),r=(a(83),a(84),a(85),a(86),a(87),a(51)),o="\xdaltima b\xfasqueda de patentes: ",l="\xdaltima b\xfasqueda de marcas: ",d="\xdaltima actualizaci\xf3n en expedientes: ",u=[{label:"Inicio",icon:"pi pi-fw pi-home",command:function(){window.location="/sivymo_app/#/inicio"}},{label:"Patentes",icon:"pi pi-fw pi-file",command:function(){window.location="/sivymo_app/#/patentes"}},{label:"Marcas",icon:"pi pi-fw pi-globe",command:function(){window.location="/sivymo_app/#/marcas"}},{label:"Expedientes",icon:"pi pi-fw pi-id-card",command:function(){window.location="/sivymo_app/#/expedientes"}},{label:"Perfil",icon:"pi pi-fw pi-user",command:function(){window.location="/sivymo_app/#/perfil"}}],j="Logo Novopatent",p={type:"success",title:"El c\xf3digo es correcto",description:"Redirigiendo..."},b="Correo electr\xf3nico:",m={type:"error",title:"Correo electr\xf3nico y/o contrase\xf1a incorrectos",description:"Por favor verif\xedquelos nuevamente"},h={type:"success",title:"Usuario guardado correctamente",description:"Los datos del usuario se han actualizado"},O={type:"error",title:"Campos no v\xe1lidos",description:"Algunos campos tienen caracteres especiales o est\xe1n vac\xedos"},f={type:"success",title:"Usuario eliminado correctamente",description:"Los datos del usuario se han actualizado"},x={type:"success",title:"Contrase\xf1a guardada correctamente",description:"La contrase\xf1a del usuario se han actualizado"},v={type:"error",title:"Las contrase\xf1as no coinciden o est\xe1n vac\xedas",description:"Verificar los campos de las contrase\xf1as"},g={type:"success",title:"Contrase\xf1a restablecida correctamente",description:"Se ha cambiado la contrase\xf1a"},N={type:"error",title:"No se ejecut\xf3 la operaci\xf3n",description:"Intentar de nuevo"},y="Nombre:",C=" El nombre no debe estar vac\xedo y debe ser v\xe1lido",k="Primer apellido:",S=" El primer apellido no debe estar vac\xedo y debe ser v\xe1lido",w="Segundo apellido:",A="Fecha de nacimiento:",F="La fecha de nacimiento no debe estar vac\xeda y debe ser v\xe1lida",I="El correo electr\xf3nico no debe estar vac\xedo y debe ser v\xe1lido",D="Habilitar/Deshabilitar campos",B="Si",E="No",L="Guardar",T=["Cargando","Espere a que los datos est\xe9n listos"],P={type:"success",title:"Expedientes guardados",description:"Se han actualizado correctamente"},R="Expedientes",_="Limpiar datos",q="Limpiar mensajes",M="Exportar resultados",z="Iniciar con la b\xfasqueda",J="No hay datos",V="Patentes",H="Marcas",U={type:"error",title:"No hay expedientes registrados",description:"Registra algunos para realizar b\xfasquedas"},W={type:"success",title:"B\xfasqueda realizada con \xe9xito",description:"Revisa si hubo coincidencias con los registros"},Y={type:"error",title:"Ocurri\xf3 un error de conexi\xf3n",description:"Vuelve a intentarlo de nuevo"},Z="Notificaciones de marcas",G="Notificaciones de patentes",K="Patentes, registros de modelos de utilidad y dise\xf1os industriales",Q="Requisitos de forma y fondo, y abandonos notificados",X="Realizando las b\xfasquedas necesarias",$="Iniciar b\xfasqueda",ee="Puedes colocar alguna fecha en especifico o ignorar y continuar con la b\xfasqueda regular",te="Fecha inicio:",ae="Fecha fin:",ce="No se encontraron coincidencias",ne="Se encontraron coincidencias",ie=a(74),se=a(12),re=a(3),oe=(a(49),a(19)),le=a(20),de=new(function(){function e(){Object(oe.a)(this,e)}return Object(le.a)(e,[{key:"validateEmail",value:function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}},{key:"validateNames",value:function(e){var t=!0;if(""===e)return!1;for(var a=0;a<e.length;a++)if(-1==="\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xdaabcdefghijklmn\xf1opqrstuvwxyzABCDEFGHIJKLMN\xd1OPQRSTUVWXYZ ".indexOf(e.charAt(a))){t=!1;break}return t}},{key:"validateSecondSurname",value:function(e){return""===e||this.validateNames(e)}},{key:"convertAPIDate",value:function(e){return e.split("T")[0].replaceAll("-","/")}},{key:"convertInputDate",value:function(e){var t=JSON.stringify(e),a=t.substring(1,t.length-1);return this.convertAPIDate(a)}},{key:"convertOnlyInputDate",value:function(e){var t=JSON.stringify(e);return t.substring(1,t.length-1)}},{key:"validateDateStartEnd",value:function(e,t){return 10!==e.length||10!==t.length||3!==e.split("/").length||3!==t.split("/").length}},{key:"validateFormUser",value:function(e,t,a,c,n){return!!(this.validateNames(e)&&this.validateNames(t)&&this.validateSecondSurname(a)&&""!==c&&this.validateEmail(n))}},{key:"validatePassworsNoEmpty",value:function(e,t,a){return""!==e&&""!==t&&""!==a}},{key:"validateSameEmail",value:function(e,t){return e===t}}]),e}()),ue=a.p+"static/media/logonovopatent.015ff878.jpg",je=a(17),pe=a(36),be=a(4),me=a(21);var he=a(43),Oe=a.n(he),fe=Oe.a.create({baseURL:"https://sivymoapi-production.up.railway.app/novopatent-api",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*"}}),xe=new(function(){function e(){Object(oe.a)(this,e)}return Object(le.a)(e,[{key:"resetPassword",value:function(e){return fe.put("/reset-password/".concat(e))}},{key:"changePassword",value:function(e,t,a){return fe.put("/change-password/".concat(e,"/").concat(t,"/").concat(a))}},{key:"login",value:function(e){return fe.post("/login",e)}},{key:"getAll",value:function(){return fe.get("/users")}},{key:"getOne",value:function(e){return fe.get("/users/".concat(e))}},{key:"insertOne",value:function(e){return fe.post("/users",e)}},{key:"updateOne",value:function(e){return fe.put("/users",e)}},{key:"removeOne",value:function(e){return fe.delete("/users/".concat(e))}}]),e}()),ve=a(0);function ge(){var e=Object(c.useState)(""),t=Object(re.a)(e,2),a=t[0],n=t[1],i=Object(c.useState)(""),s=Object(re.a)(i,2),r=s[0],o=s[1],l=Object(c.useState)(""),d=Object(re.a)(l,2),u=d[0],h=d[1],O=Object(c.useState)(""),f=Object(re.a)(O,2),x=f[0],v=f[1],g=Object(c.useState)("p-d-block"),N=Object(re.a)(g,2),y=N[0],C=N[1],k=Object(c.useState)("p-d-block"),S=Object(re.a)(k,2),w=S[0],A=S[1],F=Object(c.useRef)(null);Object(c.useEffect)((function(){null!==localStorage.key("userActive")&&(window.location="/sivymo_app/#/inicio")}),[]);var I=function(){F.current.clear()},D=function(e){var t=e.type,a=e.title,c=e.description;F.current.show({severity:t,summary:a,detail:c,sticky:!0})};return Object(ve.jsxs)("div",{className:"pagelogin",children:[Object(ve.jsx)(me.Toast,{ref:F}),Object(ve.jsx)("div",{className:"p-d-flex p-jc-center",children:Object(ve.jsxs)("div",{className:"p-col-12 p-md-6 p-lg-4 p-mt-6 card p-shadow-11",children:[Object(ve.jsx)("div",{className:"p-col p-p-0 p-text-center",children:Object(ve.jsx)("img",{src:ue,alt:j,height:"70px"})}),Object(ve.jsxs)("div",{className:"p-col",children:[Object(ve.jsx)("div",{className:"p-text-center",style:{fontSize:"2em",fontWeight:"500"},children:"Inicio de sesi\xf3n"}),Object(ve.jsx)("div",{className:"p-text-center",children:"Favor de llenar todos los campos"}),Object(ve.jsxs)("div",{className:"p-mx-6 p-my-4",children:[Object(ve.jsx)("div",{className:"p-fluid",children:Object(ve.jsxs)("div",{className:"p-field",children:[Object(ve.jsx)("label",{htmlFor:"emailInput",className:"p-d-block",children:b}),Object(ve.jsx)(je.InputText,{className:y,id:"emailInput","aria-describedby":"emailInput-help",value:a,maxLength:"50",onChange:function(e){n(e.target.value)}}),Object(ve.jsx)("small",{id:"emailInput-help",className:"p-error p-d-block",children:u})]})}),Object(ve.jsx)("div",{className:"p-fluid",children:Object(ve.jsxs)("div",{className:"p-field",children:[Object(ve.jsx)("label",{htmlFor:"passwordInput",className:"p-d-block",children:"Contrase\xf1a:"}),Object(ve.jsx)(pe.Password,{id:"passwordInput",toggleMask:!0,className:w,feedback:!1,maxLength:"50",value:r,onChange:function(e){o(e.target.value)}}),Object(ve.jsx)("small",{id:"passwordInput-help",className:"p-error p-d-block",children:x})]})}),Object(ve.jsx)("div",{className:"p-text-center",children:Object(ve.jsx)(be.Button,{label:"Iniciar sesi\xf3n",icon:"pi pi-sign-in",className:"p-button-success",onClick:function(){if(a.length<=0||!de.validateEmail(a)?(h("El email no debe estar vac\xedo y debe ser v\xe1lido"),C("p-invalid p-d-block")):(h(""),C("p-d-block")),r.length<=0?(v("La contrase\xf1a no debe estar vac\xeda"),A("p-invalid p-d-block")):(v(""),A("p-d-block")),a.length>0&&r.length>0&&de.validateEmail(a)){var e={correo:a,contrasena:r};D({type:"info",title:"Cargando...",description:"Por favor espere"}),xe.login(e).then((function(e){I(),localStorage.setItem("userActive",JSON.stringify(e.data.usuario)),D(p),window.location="/sivymo_app/#/inicio"})).catch((function(e){I(),D(m)}))}}})})]})]})]})})]})}function Ne(){null===localStorage.key("userActive")&&(window.location="/sivymo_app/#/")}var ye=a(7),Ce=a(37),ke=a(68),Se=new(function(){function e(){Object(oe.a)(this,e)}return Object(le.a)(e,[{key:"getResume",value:function(){return fe.get("/resume")}}]),e}()),we=a(13),Ae=a.n(we);a(38);function Fe(){return Object(ve.jsx)("img",{src:"https://picsum.photos/1080/720",alt:"Fondo de portada",style:{width:"100%",height:"300px",objectFit:"cover"}})}function Ie(e){var t=e.icon,a=e.last_search_info,c=e.last_date;return Object(ve.jsx)("div",{className:"p-col-12 p-md-6 p-xl-6",children:Object(ve.jsxs)("div",{className:"p-grid",children:[Object(ve.jsx)("div",{children:Object(ve.jsx)(ke.Avatar,{icon:t,className:"p-mr-2",size:"xlarge"})}),Object(ve.jsxs)("div",{className:"p-col",children:[Object(ve.jsx)("div",{style:{fontSize:"1.2em",fontWeight:"lighter"},children:a}),Object(ve.jsx)("div",{style:{fontSize:"1.2em",fontWeight:"bold"},children:Ae()(c).format("LLLL")})]})]})})}function De(){var e=Object(c.useState)({}),t=Object(re.a)(e,2),a=t[0],n=t[1],i=Object(c.useState)({ultimaBusquedaPatentes:"",ultimaBusquedaMarcas:"",ultimaBusquedaEjemplares:"",ultimaModificacionClientes:"",clientesTotales:0}),s=Object(re.a)(i,2),r=s[0],u=s[1];return Object(c.useEffect)((function(){Se.getResume().then((function(e){u(Object(ye.a)({},e.data)),localStorage.setItem("resume",JSON.stringify(e.data))})).catch((function(e){console.error(e)})),n(JSON.parse(localStorage.getItem("userActive")))}),[]),Object(ve.jsxs)("div",{children:[Object(ve.jsx)("div",{className:"p-grid",children:Object(ve.jsx)("div",{className:"p-col",children:Object(ve.jsx)(Fe,{})})}),Object(ve.jsxs)("div",{className:"p-grid",children:[Object(ve.jsx)("div",{className:"p-col-12 p-md-6 p-xl-6",children:Object(ve.jsxs)("h1",{children:["Hola, bienvenido(a) de nuevo"," ",Object(ve.jsx)("i",{children:"".concat(a.nombre," ").concat(a.primerApellido)})]})}),Object(ve.jsxs)("div",{className:"p-col-12 p-md-6 p-xl-6",children:[Object(ve.jsx)("h1",{children:Object(ve.jsx)(Ce.Badge,{value:"Existen ".concat(r.clientesTotales," expedientes guardados en la nube"),size:"xlarge",severity:r.clientesTotales<=0?"danger":"success"})}),r.clientesTotales<=0&&Object(ve.jsx)(Ce.Badge,{value:"Ingresar expedientes para poder realizar consultas",severity:"warning",className:"p-mr-2"})]})]}),Object(ve.jsxs)("div",{className:"p-grid p-mt-2",children:[Object(ve.jsx)(Ie,{icon:"pi pi-file",last_search_info:o,last_date:r.ultimaBusquedaPatentes}),Object(ve.jsx)(Ie,{icon:"pi pi-globe",last_search_info:l,last_date:r.ultimaBusquedaMarcas})]}),Object(ve.jsx)("div",{className:"p-grid p-mt-2",children:Object(ve.jsx)(Ie,{icon:"pi pi-id-card",last_search_info:d,last_date:r.ultimaModificacionClientes})})]})}Ae.a.locale("es");var Be=a(69),Ee=a(70);function Le(){var e=Object(ve.jsx)("img",{alt:j,src:ue,height:"50",className:"p-mr-2",onClick:function(){window.location="/sivymo_app/#/inicio"}}),t=Object(ve.jsx)(be.Button,{className:"p-button-success",onClick:function(){Object(Ee.confirmDialog)({message:"\xbfEst\xe1s seguro de salir del sistema?",header:"Salir",icon:"pi pi-exclamation-triangle",acceptClassName:"p-button-success",rejectClassName:"p-button-plain p-button-text",accept:function(){localStorage.clear(),window.location="/sivymo_app/#/"},reject:function(){}})},label:"Salir",icon:"pi pi-sign-out"});return Object(ve.jsx)("div",{className:"p-grid p-m-1",children:Object(ve.jsx)("div",{className:"p-col",children:Object(ve.jsx)("div",{className:"card",children:Object(ve.jsx)(Be.Menubar,{model:u,start:e,end:t})})})})}function Te(){return Object(c.useEffect)((function(){Ne()}),[]),Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(Le,{}),Object(ve.jsx)("div",{className:"p-grid p-d-flex",children:Object(ve.jsx)("div",{className:"p-col-10 p-offset-1",children:Object(ve.jsx)(De,{})})})]})}var Pe=a(24),Re=a.n(Pe),_e=a(33),qe=a(26),Me=a(6),ze=a(29),Je=a(44),Ve=a(30),He=a(45),Ue=a(27),We=new(function(){function e(){Object(oe.a)(this,e)}return Object(le.a)(e,[{key:"getAll",value:function(){return fe.get("/clients")}},{key:"insertOne",value:function(e){return fe.post("/clientsOne",e)}},{key:"insertTwo",value:function(e){return fe.post("/clientsTwo",e)}},{key:"removeAll",value:function(){return fe.delete("/clients")}}]),e}()),Ye=Oe.a.create({baseURL:"http://localhost:8081",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*"}}),Ze=new(function(){function e(){Object(oe.a)(this,e)}return Object(le.a)(e,[{key:"getPatentes",value:function(e){return Ye.post("/patentes",e)}},{key:"getMarcas",value:function(e){return Ye.post("marcas",e)}}]),e}()),Ge=new(function(){function e(){Object(oe.a)(this,e)}return Object(le.a)(e,[{key:"insertOne",value:function(e){return fe.post("/history/".concat(e))}}]),e}()),Ke="#81BA8E";function Qe(){var e=Object(c.useState)(!1),t=Object(re.a)(e,2),a=t[0],n=t[1],i=Object(c.useState)({}),s=Object(re.a)(i,2),r=s[0],l=s[1],d=Object(c.useState)([]),u=Object(re.a)(d,2),j=u[0],p=u[1],b=Object(c.useState)([]),m=Object(re.a)(b,2),h=m[0],O=m[1],f=Object(c.useState)([]),x=Object(re.a)(f,2),v=x[0],g=x[1],N=Object(c.useState)(!1),y=Object(re.a)(N,2),C=y[0],k=y[1],S=Object(c.useState)(!1),w=Object(re.a)(S,2),A=w[0],F=w[1],I=Object(c.useState)(""),D=Object(re.a)(I,2),B=D[0],E=D[1],L=Object(c.useState)(""),P=Object(re.a)(L,2),R=P[0],H=P[1],Z=Object(c.useRef)(null),ie=Object(c.useRef)(null),se=Object(c.useRef)(null),oe=Object(c.useRef)(null);Object(c.useEffect)((function(){le()}),[]);var le=function(){l(JSON.parse(localStorage.getItem("resume")))};var ue=function(){var e=Object(_e.a)(Re.a.mark((function e(){var t,a;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe();case 2:return t=e.sent,a={fechaInicio:B,fechaFin:R,datos:t,descargado:A},e.next=6,Ze.getPatentes(a).then((function(e){je(e.data),he(W)})).catch((function(e){n(!1),he(Y),console.log(e)}));case 6:n(!1),k(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(e){!1!==e[0].data?(window.onbeforeunload=function(){return"\xbfSeguro que quieres salir?"},p(e[0].data),he({type:"info",title:G,description:ne})):he({type:"warn",title:G,description:ce}),!1!==e[1].data?(window.onbeforeunload=function(){return"\xbfSeguro que quieres salir?"},O(e[1].data),he({type:"info",title:K,description:ne})):he({type:"warn",title:K,description:ce}),!1!==e[2].data?(window.onbeforeunload=function(){return"\xbfSeguro que quieres salir?"},g(e[2].data),he({type:"info",title:Q,description:ne})):he({type:"warn",title:Q,description:ce})},pe=function(){return We.getAll().then((function(e){return e.data})).catch((function(e){return console.error(e)}))},he=function(e){var t=e.type,a=e.title,c=e.description;Z.current.show({severity:t,summary:a,detail:c,sticky:!0})},Oe=function(e){return Object(ve.jsx)(c.Fragment,{children:Object(ve.jsx)("a",{href:e["Enlace electr\xf3nico"],target:"_blank",rel:"noopener",children:e["Enlace electr\xf3nico"]})})};function fe(){return Object(ve.jsxs)("div",{className:"p-grid p-col",children:[Object(ve.jsx)("h2",{children:G}),Object(ve.jsxs)(qe.DataTable,{ref:ie,emptyMessage:J,paginator:!0,rows:7,value:j,children:[Object(ve.jsx)(Me.Column,{field:"N\xfamero del Oficio",header:"N\xfamero del Oficio",sortable:!0}),Object(ve.jsx)(Me.Column,{field:"Fecha del Oficio",header:"Fecha del Oficio",sortable:!0}),Object(ve.jsx)(Me.Column,{field:"Descripci\xf3n general del asunto",header:"Descripci\xf3n general del asunto",sortable:!0}),Object(ve.jsx)(Me.Column,{field:"Enlace electr\xf3nico",header:"Enlace electr\xf3nico",body:Oe,sortable:!0}),Object(ve.jsx)(Me.Column,{field:"Expediente",header:"Expediente",sortable:!0})]})]})}function xe(){return Object(ve.jsxs)("div",{className:"p-grid p-col",children:[Object(ve.jsx)("h2",{children:K}),Object(ve.jsxs)(qe.DataTable,{ref:se,emptyMessage:J,paginator:!0,rows:7,scrollable:!0,value:h,children:[Object(ve.jsx)(Me.Column,{field:"Oficina, No de Patente y Tipo de documento",header:"Oficina, No de Patente y Tipo de documento",headerStyle:{width:"17vh"},sortable:!0}),Object(ve.jsx)(Me.Column,{field:"N\xfamero de concesi\xf3n",header:"N\xfamero de concesi\xf3n",headerStyle:{width:"17vh"},sortable:!0}),Object(ve.jsx)(Me.Column,{field:"Tipo de documento",header:"Tipo de documento",headerStyle:{width:"17vh"},sortable:!0}),Object(ve.jsx)(Me.Column,{field:"N\xfamero de solicitud",header:"N\xfamero de solicitud",headerStyle:{width:"17vh"},sortable:!0}),Object(ve.jsx)(Me.Column,{field:"Fecha de presentaci\xf3n",header:"Fecha de presentaci\xf3n",headerStyle:{width:"17vh"},sortable:!0}),Object(ve.jsx)(Me.Column,{field:"Fecha de concesi\xf3n",header:"Fecha de concesi\xf3n",headerStyle:{width:"17vh"},sortable:!0}),Object(ve.jsx)(Me.Column,{field:"T\xedtulo",header:"T\xedtulo",headerStyle:{width:"17vh"},sortable:!0}),Object(ve.jsx)(Me.Column,{field:"Inventor(es)",header:"Inventor(es)",headerStyle:{width:"17vh"},sortable:!0}),Object(ve.jsx)(Me.Column,{field:"Titular",header:"Titular",headerStyle:{width:"17vh"},sortable:!0}),Object(ve.jsx)(Me.Column,{field:"Agente",header:"Agente",headerStyle:{width:"17vh"},sortable:!0})]})]})}function ge(){return Object(ve.jsxs)("div",{className:"p-grid p-col",children:[Object(ve.jsx)("h2",{children:Q}),Object(ve.jsxs)(qe.DataTable,{ref:oe,emptyMessage:J,paginator:!0,rows:7,value:v,children:[Object(ve.jsx)(Me.Column,{field:"N\xfamero de expediente",header:"N\xfamero de expediente",sortable:!0}),Object(ve.jsx)(Me.Column,{field:"Solicitante(s)",header:"Solicitante(s)",sortable:!0}),Object(ve.jsx)(Me.Column,{field:"N\xfamero del Oficio",header:"N\xfamero del Oficio",sortable:!0}),Object(ve.jsx)(Me.Column,{field:"Agente",header:"Agente",sortable:!0})]})]})}return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(ze.BreadCrumb,{model:[{label:V}],home:{icon:"pi pi-home"}}),Object(ve.jsx)(me.Toast,{ref:Z}),Object(ve.jsxs)("div",{className:"p-grid",children:[Object(ve.jsxs)("div",{className:"p-col p-p-3",children:[Object(ve.jsx)("h1",{children:V}),Object(ve.jsxs)("div",{children:[o,Ae()(r.ultimaBusquedaPatentes).format("LLLL")]})]}),Object(ve.jsx)("div",{className:"p-d-flex p-ai-center p-py-2",children:Object(ve.jsx)(be.Button,{label:z,icon:"pi pi-search",className:"p-button-lg p-ml-auto",style:{backgroundColor:"var(--green-600)"},onClick:function(){F(!1),H(de.convertInputDate(new Date)),E(de.convertAPIDate(r.ultimaBusquedaPatentes)),r.clientesTotales>0?n(!0):he(U)}})})]}),Object(ve.jsxs)("div",{className:"p-grid p-dir-col",children:[Object(ve.jsxs)("div",{className:"p-col",children:[Object(ve.jsxs)("div",{className:"p-d-flex p-ai-center export-buttons",children:[Object(ve.jsx)(be.Button,{type:"button",className:"p-mr-2",icon:"pi pi-download",label:M,style:{backgroundColor:"var(--teal-600)"},onClick:function(){ie.current.exportCSV(),se.current.exportCSV(),oe.current.exportCSV()}}),Object(ve.jsx)(be.Button,{type:"button",icon:"pi pi-times",label:_,className:"p-button-info  p-mr-2",onClick:function(){p([]),O([]),g([])}}),Object(ve.jsx)(be.Button,{type:"button",icon:"pi pi-comments",label:q,className:"p-button-info",onClick:function(){Z.current.clear()}})]}),Object(ve.jsx)(fe,{})]}),Object(ve.jsx)("div",{className:"p-col",children:Object(ve.jsx)(xe,{})}),Object(ve.jsx)("div",{className:"p-col",children:Object(ve.jsx)(ge,{})})]}),Object(ve.jsx)(Ve.Dialog,{showHeader:!1,visible:a,draggable:!1,closable:!1,onHide:function(){},children:Object(ve.jsx)("div",{className:"p-grid",children:Object(ve.jsx)("div",{className:"p-col",children:C?Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsxs)("div",{className:"p-col p-col-align-center",children:[Object(ve.jsx)("h1",{children:T[0]}),Object(ve.jsx)("div",{children:X}),Object(ve.jsx)(Je.ProgressBar,{mode:"indeterminate",color:Ke,style:{height:"6px"}})]})}):Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)("h1",{children:$}),Object(ve.jsx)("p",{children:ee}),Object(ve.jsxs)("div",{className:"p-text-center",children:[Object(ve.jsxs)("div",{className:"p-field",children:[Object(ve.jsx)("label",{htmlFor:"dateStartInput",className:"p-d-block",children:te}),Object(ve.jsx)(Ue.Calendar,{id:"dateStartInput",dateFormat:"yy/mm/dd",mask:"9999/99/99",value:B,monthNavigator:!0,yearNavigator:!0,yearRange:"2010:2030",placeholder:B,disabled:A,onChange:function(e){var t=de.convertInputDate(e.target.value);E(t)}})]}),Object(ve.jsxs)("div",{className:"p-field",children:[Object(ve.jsx)("label",{htmlFor:"dateEndInput",className:"p-d-block",children:ae}),Object(ve.jsx)(Ue.Calendar,{id:"dateEndInput",dateFormat:"yy/mm/dd",mask:"9999/99/99",value:R,monthNavigator:!0,yearNavigator:!0,yearRange:"2010:2030",placeholder:R,disabled:A,onChange:function(e){var t=de.convertInputDate(e.target.value);H(t)}})]}),Object(ve.jsxs)("div",{className:" p-field-checkbox",children:[Object(ve.jsx)(He.Checkbox,{inputId:"filesReady",checked:A,onChange:function(e){return F(e.checked)}}),Object(ve.jsx)("label",{htmlFor:"filesReady",children:"Ya cuento con los archivos descargados"})]})]}),Object(ve.jsxs)("div",{className:"p-ai-center p-text-center",children:[Object(ve.jsx)(be.Button,{type:"button",className:"p-mr-2 p-button-danger",label:"Cancelar",onClick:function(){n(!1)}}),Object(ve.jsx)(be.Button,{type:"button",className:"p-mr-2 p-button-success",label:"Buscar",disabled:de.validateDateStartEnd(B,R),onClick:function(){k(!0),Ge.insertOne("1").then((function(e){})).catch((function(e){console.error(e)})),ue()}})]})]})})})})]})}function Xe(){return Object(c.useEffect)((function(){Ne()}),[]),Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(Le,{}),Object(ve.jsx)("div",{className:"p-grid p-d-flex",children:Object(ve.jsx)("div",{className:"p-col-10 p-offset-1",children:Object(ve.jsx)(Qe,{})})})]})}function $e(){var e=Object(c.useState)(!1),t=Object(re.a)(e,2),a=t[0],n=t[1],i=Object(c.useState)({}),s=Object(re.a)(i,2),r=s[0],o=s[1],d=Object(c.useState)([]),u=Object(re.a)(d,2),j=u[0],p=u[1],b=Object(c.useState)(""),m=Object(re.a)(b,2),h=m[0],O=m[1],f=Object(c.useState)(""),x=Object(re.a)(f,2),v=x[0],g=x[1],N=Object(c.useState)(!1),y=Object(re.a)(N,2),C=y[0],k=y[1],S=Object(c.useState)(!1),w=Object(re.a)(S,2),A=w[0],F=w[1],I=Object(c.useRef)(null),D=Object(c.useRef)(null);Object(c.useEffect)((function(){B()}),[]);var B=function(){o(JSON.parse(localStorage.getItem("resume")))};var E=function(){var e=Object(_e.a)(Re.a.mark((function e(){var t,a;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:return t=e.sent,a={fechaInicio:h,fechaFin:v,datos:t,descargado:C},e.next=6,Ze.getMarcas(a).then((function(e){L(e.data),V(W)})).catch((function(e){n(!1),V(Y),console.log(e)}));case 6:n(!1),F(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(e){!1!==e.data?(p(e.data),V({type:"info",title:Z,description:ne}),window.onbeforeunload=function(){return"\xbfSeguro que quieres salir?"}):V({type:"warn",title:Z,description:ce})},P=function(){return We.getAll().then((function(e){return e.data})).catch((function(e){return console.error(e)}))},R=Object(ve.jsxs)("div",{className:"p-d-flex p-ai-center export-buttons",children:[Object(ve.jsx)(be.Button,{type:"button",icon:"pi pi-download",className:"p-mr-2",label:M,style:{backgroundColor:"var(--teal-600)"},onClick:function(){D.current.exportCSV()}}),Object(ve.jsx)(be.Button,{type:"button",icon:"pi pi-times",label:_,className:"p-button-info p-mr-2",onClick:function(){p([])}}),Object(ve.jsx)(be.Button,{type:"button",icon:"pi pi-comments",label:q,className:"p-button-info",onClick:function(){I.current.clear()}})]}),V=function(e){var t=e.type,a=e.title,c=e.description;I.current.show({severity:t,summary:a,detail:c,sticky:!0})};return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(ze.BreadCrumb,{model:[{label:H}],home:{icon:"pi pi-home"}}),Object(ve.jsx)(me.Toast,{ref:I}),Object(ve.jsxs)("div",{className:"p-grid",children:[Object(ve.jsxs)("div",{className:"p-col p-p-3",children:[Object(ve.jsx)("h1",{children:H}),Object(ve.jsxs)("div",{children:[l,Ae()(r.ultimaBusquedaMarcas).format("LLLL")]})]}),Object(ve.jsx)("div",{className:"p-d-flex p-ai-center p-py-2",children:Object(ve.jsx)(be.Button,{label:z,icon:"pi pi-search",className:"p-button-lg p-ml-auto",style:{backgroundColor:"var(--green-600)"},onClick:function(){k(!1),g(de.convertInputDate(new Date)),O(de.convertAPIDate(r.ultimaBusquedaMarcas)),r.clientesTotales>0?n(!0):V(U)}})})]}),Object(ve.jsx)("div",{className:"p-grid p-dir-col",children:Object(ve.jsxs)("div",{className:"p-col",children:[Object(ve.jsx)("h2",{children:Z}),Object(ve.jsxs)(qe.DataTable,{value:j,ref:D,header:R,emptyMessage:J,paginator:!0,scrollable:!0,rows:7,children:[Object(ve.jsx)(Me.Column,{field:"Expediente",header:"Expediente",headerStyle:{width:"20vh"},sortable:!0}),Object(ve.jsx)(Me.Column,{field:"Descripci\xf3n del oficio",header:"Descripci\xf3n del oficio",headerStyle:{width:"20vh"},sortable:!0}),Object(ve.jsx)(Me.Column,{field:"Fecha del oficio",header:"Fecha del oficio",headerStyle:{width:"20vh"},sortable:!0}),Object(ve.jsx)(Me.Column,{field:"N\xfamero del oficio",header:"N\xfamero del oficio",headerStyle:{width:"20vh"},sortable:!0}),Object(ve.jsx)(Me.Column,{field:"Enlace electr\xf3nico",header:"Enlace electr\xf3nico",headerStyle:{width:"20vh"},body:function(e){return Object(ve.jsx)(c.Fragment,{children:Object(ve.jsx)("a",{href:e["Enlace electr\xf3nico"],target:"_blank",rel:"noopener",children:e["Enlace electr\xf3nico"]})})},sortable:!0})]})]})}),Object(ve.jsx)(Ve.Dialog,{showHeader:!1,visible:a,draggable:!1,closable:!1,onHide:function(){},children:Object(ve.jsx)("div",{className:"p-grid",children:Object(ve.jsx)("div",{className:"p-col",children:A?Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsxs)("div",{className:"p-col p-col-align-center",children:[Object(ve.jsx)("h1",{children:T[0]}),Object(ve.jsx)("div",{children:X}),Object(ve.jsx)(Je.ProgressBar,{mode:"indeterminate",color:Ke,style:{height:"6px"}})]})}):Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)("h1",{children:$}),Object(ve.jsx)("p",{children:ee}),Object(ve.jsxs)("div",{className:"p-text-center",children:[Object(ve.jsxs)("div",{className:"p-field",children:[Object(ve.jsx)("label",{htmlFor:"dateStartInput",className:"p-d-block",children:te}),Object(ve.jsx)(Ue.Calendar,{id:"dateStartInput",dateFormat:"yy/mm/dd",mask:"9999/99/99",value:h,monthNavigator:!0,yearNavigator:!0,yearRange:"2010:2030",placeholder:h,disabled:C,onChange:function(e){var t=de.convertInputDate(e.target.value);O(t)}})]}),Object(ve.jsxs)("div",{className:"p-field",children:[Object(ve.jsx)("label",{htmlFor:"dateEndInput",className:"p-d-block",children:ae}),Object(ve.jsx)(Ue.Calendar,{id:"dateEndInput",dateFormat:"yy/mm/dd",mask:"9999/99/99",value:v,monthNavigator:!0,yearNavigator:!0,yearRange:"2010:2030",placeholder:v,disabled:C,onChange:function(e){var t=de.convertInputDate(e.target.value);g(t)}})]}),Object(ve.jsxs)("div",{className:" p-field-checkbox",children:[Object(ve.jsx)(He.Checkbox,{inputId:"filesReady",checked:C,onChange:function(e){return k(e.checked)}}),Object(ve.jsx)("label",{htmlFor:"filesReady",children:"Ya cuento con los archivos descargados"})]})]}),Object(ve.jsxs)("div",{className:"p-ai-center p-text-center",children:[Object(ve.jsx)(be.Button,{type:"button",className:"p-mr-2 p-button-danger",label:"Cancelar",onClick:function(){n(!1)}}),Object(ve.jsx)(be.Button,{type:"button",className:"p-mr-2 p-button-success",label:"Buscar",disabled:de.validateDateStartEnd(h,v),onClick:function(){F(!0),Ge.insertOne("2").then((function(e){})).catch((function(e){console.error(e)})),E()}})]})]})})})})]})}function et(){return Object(c.useEffect)((function(){Ne()}),[]),Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(Le,{}),Object(ve.jsx)("div",{className:"p-grid p-d-flex",children:Object(ve.jsx)("div",{className:"p-col-10 p-offset-1",children:Object(ve.jsx)($e,{})})})]})}Ae.a.locale("es"),Ae.a.locale("es");var tt=a(71);function at(){var e=Object(c.useState)({}),t=Object(re.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)([]),r=Object(re.a)(s,2),o=r[0],l=r[1],u=Object(c.useState)([]),j=Object(re.a)(u,2),p=j[0],b=j[1],m=Object(c.useState)([{field:"",header:"Columnas"}]),h=Object(re.a)(m,2),O=h[0],f=h[1],x=Object(c.useRef)(null);Object(c.useEffect)((function(){v()}),[]);var v=function(){i(JSON.parse(localStorage.getItem("resume")))},g=function(){var e=Object(_e.a)(Re.a.mark((function e(t){var c;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(),c=t.files[0],e.next=4,Promise.all([a.e(3),a.e(4)]).then(a.t.bind(null,169,7)).then((function(e){var t=new FileReader;t.onload=function(t){var a=e.read(t.target.result,{type:"array"}),c=a.SheetNames[0],n=a.Sheets[c],i=e.utils.sheet_to_json(n,{header:1}),s=i[0];i.shift();var r=s.map((function(e){return{field:y(e),header:y(e)}})),o=i.map((function(e){return s.reduce((function(t,a,c){return t[y(a)]=e[c],t}),{})}));f(r),l(o)},t.readAsArrayBuffer(c)}));case 4:k();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e){var t=e.replaceAll(" ","_");return t.charAt(0).toLowerCase()+t.slice(1)},C=function(){l([]),b([]),f([{field:"",header:"Columnas"}])},k=function(){x.current.clear()},S=function(){x.current.show({severity:"info",sticky:!0,content:Object(ve.jsx)("div",{className:"p-flex p-flex-column",style:{flex:"1"},children:Object(ve.jsxs)("div",{className:"p-text-center",children:[Object(ve.jsx)("i",{className:"pi pi-spin pi-spinner",style:{fontSize:"3em"}}),Object(ve.jsx)("h4",{children:T[0]}),Object(ve.jsx)("p",{children:T[1]})]})})})};var w=function(){var e=Object(_e.a)(Re.a.mark((function e(){var t,a;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(),t=o.splice(0,o.length/2),a=o.splice(0,o.length),e.next=5,We.insertOne(t).then((function(e){e.data||A(N)})).catch((function(e){k(),console.error(e)}));case 5:return e.next=7,We.insertTwo(a).then((function(e){k(),e.data?(Ge.insertOne("4").then((function(e){})).catch((function(e){console.error(e)})),C(),A(P)):A(N)})).catch((function(e){k(),console.error(e),A(N)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(e){var t=e.type,a=e.title,c=e.description;x.current.show({severity:t,summary:a,detail:c,life:3e3})};return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(ze.BreadCrumb,{model:[{label:R}],home:{icon:"pi pi-home"}}),Object(ve.jsx)(me.Toast,{ref:x}),Object(ve.jsx)("div",{className:"p-grid",children:Object(ve.jsxs)("div",{className:"p-col p-p-3",children:[Object(ve.jsx)("h1",{children:R}),Object(ve.jsxs)("div",{children:[d,Ae()(n.ultimaModificacionClientes).format("LLLL")]}),Object(ve.jsxs)("div",{className:"p-d-flex p-ai-center p-py-2",children:[Object(ve.jsx)(tt.FileUpload,{chooseOptions:{label:"Importar desde Excel",icon:"pi pi-file-excel",className:"p-button-success p-button-outlined"},mode:"basic",name:"demo[]",auto:!0,url:"https://sivymoapi.herokuapp.com/novopatent-api/uploadFake",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",className:"p-mr-2",onUpload:g}),Object(ve.jsx)(be.Button,{type:"button",label:_,icon:"pi pi-times",onClick:C,className:"p-button-info p-ml-auto",disabled:0===o.length}),Object(ve.jsx)(be.Button,{type:"button",label:L,icon:"pi pi-save",className:"p-button-success p-ml-2",disabled:0===o.length,onClick:w})]})]})}),Object(ve.jsx)(qe.DataTable,{value:o,emptyMessage:"Sin ning\xfan dato subido",paginator:!0,rows:7,scrollable:!0,selection:p,children:O.map((function(e,t){return Object(ve.jsx)(Me.Column,{field:e.field,header:e.header,style:{width:"15em"}},t)}))})]})}function ct(){return Object(c.useEffect)((function(){Ne()}),[]),Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(Le,{}),Object(ve.jsx)("div",{className:"p-grid p-d-flex",children:Object(ve.jsx)("div",{className:"p-col-10 p-offset-1",children:Object(ve.jsx)(at,{})})})]})}Ae.a.locale("es");var nt=a(46);function it(){var e=Object(c.useState)(!0),t=Object(re.a)(e,2),a=t[0],n=t[1],i=Object(c.useState)(!0),s=Object(re.a)(i,2),r=s[0],o=s[1],l=Object(c.useRef)(null);Object(c.useEffect)((function(){p(JSON.parse(localStorage.getItem("userActive")))}),[]);var d=Object(c.useState)({nombre:"",primerApellido:"",segundoApellido:"",fechaDeNacimiento:"",correo:"",superAdmin:!1}),u=Object(re.a)(d,2),j=u[0],p=u[1],m=Object(c.useState)({"contrase\xf1aActual":"****","nuevaContrase\xf1a":"****","repetirNuevaContrase\xf1a":"****"}),f=Object(re.a)(m,2),g=f[0],B=f[1],E=function(e){var t=e.type,a=e.title,c=e.description;l.current.show({severity:t,summary:a,detail:c,life:3e3})};return Object(ve.jsxs)("div",{className:"p-grid",children:[Object(ve.jsx)(me.Toast,{ref:l}),Object(ve.jsxs)("div",{className:"p-col p-p-3",children:[Object(ve.jsx)("h2",{children:"Tu informaci\xf3n"}),Object(ve.jsxs)("div",{className:"p-fluid",children:[Object(ve.jsxs)("div",{className:"p-field",children:[Object(ve.jsx)("label",{htmlFor:"nombre",children:y}),Object(ve.jsx)(je.InputText,{id:"nombre",name:"nombre",type:"text",disabled:a,value:j.nombre,onChange:function(e){p(Object(ye.a)(Object(ye.a)({},j),{},{nombre:e.target.value}))},className:!j.nombre&&"p-invalid"}),!j.nombre&&Object(ve.jsx)("small",{id:"nombre-help",className:"p-error p-d-block",children:C})]}),Object(ve.jsxs)("div",{className:"p-field",children:[Object(ve.jsx)("label",{htmlFor:"primerApellido",children:k}),Object(ve.jsx)(je.InputText,{id:"primerApellido",name:"primerApellido",type:"text",disabled:a,value:j.primerApellido,onChange:function(e){p(Object(ye.a)(Object(ye.a)({},j),{},{primerApellido:e.target.value}))},className:!j.primerApellido&&"p-invalid"}),!j.primerApellido&&Object(ve.jsx)("small",{id:"primerApellido-help",className:"p-error p-d-block",children:S})]}),Object(ve.jsxs)("div",{className:"p-field",children:[Object(ve.jsx)("label",{htmlFor:"segundoApellido",children:w}),Object(ve.jsx)(je.InputText,{id:"segundoApellido",name:"segundoApellido",type:"text",disabled:a,value:j.segundoApellido,onChange:function(e){p(Object(ye.a)(Object(ye.a)({},j),{},{segundoApellido:e.target.value}))}})]}),Object(ve.jsxs)("div",{className:"p-field",children:[Object(ve.jsx)("label",{htmlFor:"fechaDeNacimiento",children:A}),Object(ve.jsx)(Ue.Calendar,{id:"fechaDeNacimiento",name:"fechaDeNacimiento",monthNavigator:!0,yearNavigator:!0,showIcon:!0,yearRange:"1950:2010",dateFormat:"yy-mm-dd",placeholder:j.fechaDeNacimiento.split("T")[0],disabled:a,value:j.fechaDeNacimiento,onChange:function(e){var t=de.convertOnlyInputDate(e.target.value);p(Object(ye.a)(Object(ye.a)({},j),{},{fechaDeNacimiento:t}))}}),!j.fechaDeNacimiento&&Object(ve.jsx)("small",{id:"fechaDeNacimiento-help",className:"p-error p-d-block",children:F})]}),Object(ve.jsxs)("div",{className:"p-field",children:[Object(ve.jsx)("label",{htmlFor:"correo",children:b}),Object(ve.jsx)(je.InputText,{id:"correo",name:"correo",type:"correo",disabled:a,value:j.correo,onChange:function(e){p(Object(ye.a)(Object(ye.a)({},j),{},{correo:e.target.value}))},className:!j.correo&&"p-invalid"}),!j.correo&&Object(ve.jsx)("small",{id:"correo-help",className:"p-error p-d-block",children:I})]})]}),Object(ve.jsxs)("div",{className:"p-text-center",children:[Object(ve.jsx)(be.Button,{label:D,className:"p-button-link p-mr-2",onClick:function(){n(!a)}}),Object(ve.jsx)(be.Button,{label:"Actualizar informaci\xf3n",className:"p-button-success p-ml-2",disabled:a,onClick:function(){var e,t=j.nombre,a=j.primerApellido,c=j.segundoApellido,n=j.fechaDeNacimiento,i=j.correo;de.validateFormUser(t,a,c,n,i)?(e=j,xe.updateOne(e).then((function(e){p(e.data),localStorage.setItem("userActive",JSON.stringify(j)),E(h)})).catch((function(e){console.error(e),E(N)}))):E(O)}})]})]}),Object(ve.jsxs)("div",{className:"p-col p-p-3",children:[Object(ve.jsx)("h2",{children:"Cambio de contrase\xf1a"}),Object(ve.jsxs)("div",{className:"p-fluid",children:[Object(ve.jsxs)("div",{className:"p-field",children:[Object(ve.jsx)("label",{htmlFor:"contrase\xf1aActual",children:"Contrase\xf1a actual:"}),Object(ve.jsx)(pe.Password,{id:"contrase\xf1aActual",name:"contrase\xf1aActual",toggleMask:!0,feedback:!1,maxLength:"50",disabled:r,value:g.contrase\u00f1aActual,onChange:function(e){B(Object(ye.a)(Object(ye.a)({},g),{},{"contrase\xf1aActual":e.target.value}))}}),!g.contrase\u00f1aActual&&Object(ve.jsx)("small",{id:"contrase\xf1aActual-help",className:"p-error p-d-block",children:"La contrase\xf1a actual no debe estar vac\xeda"})]}),Object(ve.jsxs)("div",{className:"p-field",children:[Object(ve.jsx)("label",{htmlFor:"nuevaContrase\xf1a",children:"Nueva contrase\xf1a:"}),Object(ve.jsx)(pe.Password,{id:"nuevaContrase\xf1a",name:"nuevaContrase\xf1a",toggleMask:!0,feedback:!0,maxLength:"50",disabled:r,value:g.nuevaContrase\u00f1a,onChange:function(e){B(Object(ye.a)(Object(ye.a)({},g),{},{"nuevaContrase\xf1a":e.target.value}))}}),!g.nuevaContrase\u00f1a&&Object(ve.jsx)("small",{id:"nuevaContrase\xf1a-help",className:"p-error p-d-block",children:"La contrase\xf1a nueva no debe estar vac\xeda"})]}),Object(ve.jsxs)("div",{className:"p-field",children:[Object(ve.jsx)("label",{htmlFor:"repetirNuevaContrase\xf1a",children:"Repetir nueva contrase\xf1a:"}),Object(ve.jsx)(pe.Password,{id:"repetirNuevaContrase\xf1a",name:"repetirNuevaContrase\xf1a",toggleMask:!0,feedback:!0,maxLength:"50",disabled:r,value:g.repetirNuevaContrase\u00f1a,onChange:function(e){B(Object(ye.a)(Object(ye.a)({},g),{},{"repetirNuevaContrase\xf1a":e.target.value}))}}),!g.repetirNuevaContrase\u00f1a&&Object(ve.jsx)("small",{id:"repetirNuevaContrase\xf1a-help",className:"p-error p-d-block",children:"La contrase\xf1a nueva no debe estar vac\xeda"})]})]}),Object(ve.jsxs)("div",{className:"p-text-center",children:[Object(ve.jsx)(be.Button,{label:D,className:"p-button-link p-mr-2",onClick:function(){o(!r),B(r?{"contrase\xf1aActual":"","nuevaContrase\xf1a":"","repetirNuevaContrase\xf1a":""}:{"contrase\xf1aActual":"****","nuevaContrase\xf1a":"****","repetirNuevaContrase\xf1a":"****"})}}),Object(ve.jsx)(be.Button,{label:"Actualizar contrase\xf1a",className:"p-button-success p-ml-2",disabled:r,onClick:function(){var e=g.contrase\u00f1aActual,t=g.nuevaContrase\u00f1a,a=g.repetirNuevaContrase\u00f1a;de.validatePassworsNoEmpty(e,t,a)&&t===a?function(e){var t=e.contrase\u00f1aActual,a=e.nuevaContrase\u00f1a,c=e.repetirNuevaContrase\u00f1a;xe.changePassword(j.correo,t,a,c).then((function(e){e.data?(E(x),localStorage.clear(),window.location="/sivymo_app/#/"):(N.description="Verifica que la contrase\xf1a actual sea correcta",E(N))})).catch((function(e){console.error(e),E(N)}))}(g):E(v)}})]})]})]})}var st=a(72),rt=a(73);function ot(){var e={nombre:"",primerApellido:"",segundoApellido:"",fechaDeNacimiento:"",correo:"",superAdmin:!1},t=Object(c.useState)([]),a=Object(re.a)(t,2),i=a[0],s=a[1],r=Object(c.useState)(!1),o=Object(re.a)(r,2),l=o[0],d=o[1],u=Object(c.useState)(!1),j=Object(re.a)(u,2),p=j[0],m=j[1],x=Object(c.useState)(null),v=Object(re.a)(x,2),D=v[0],T=v[1],P=Object(c.useState)(""),R=Object(re.a)(P,2),_=R[0],q=R[1],M=Object(c.useState)(e),z=Object(re.a)(M,2),J=z[0],V=z[1],H=Object(c.useState)(!1),U=Object(re.a)(H,2),W=U[0],Y=U[1],Z=Object(c.useState)(!1),G=Object(re.a)(Z,2),K=G[0],Q=G[1],X=Object(c.useState)({}),$=Object(re.a)(X,2),ee=$[0],te=$[1],ae=Object(c.useRef)(null),ce=Object(c.useRef)(null);function ne(){xe.getAll().then((function(e){s(e.data)})).catch((function(e){console.error(e),he(N)}))}Object(c.useEffect)((function(){ne()}),[]);var ie=function(){V(e),d(!0),Y(!0)},se=function(){d(!1)},oe=function(){m(!1)},le=function(){return Q(!K)},ue=function(){ce.current.exportCSV()},pe=function(e){var t;t=e.correo,xe.resetPassword(t).then((function(e){e.data?(te(e.data),le(),he(g)):he(N)})).catch((function(e){he(N)})),ae.current.clear()},he=function(e){var t=e.type,a=e.title,c=e.description;ae.current.show({severity:t,summary:a,detail:c,life:3e3})},Oe=Object(ve.jsxs)(n.a.Fragment,{children:[Object(ve.jsx)(be.Button,{label:"Cancelar",icon:"pi pi-times",className:"p-button-text",onClick:se}),Object(ve.jsx)(be.Button,{label:L,icon:"pi pi-check",className:"p-button-text",onClick:function(){var t=J.nombre,a=J.primerApellido,c=J.segundoApellido,n=J.fechaDeNacimiento,i=J.correo;de.validateFormUser(t,a,c,n,i)?(W?(!function(e){xe.insertOne(e).then((function(e){te(e.data),ne(),he(h)})).catch((function(e){console.error(e),he(N)}))}(J),le()):function(e){xe.updateOne(e).then((function(e){ne(),he(h)})).catch((function(e){console.error(e),he(N)}))}(J),Y(!1)):he(O),d(!1),V(e)}})]}),fe=Object(ve.jsxs)(n.a.Fragment,{children:[Object(ve.jsx)(be.Button,{label:E,icon:"pi pi-times",className:"p-button-text",onClick:oe}),Object(ve.jsx)(be.Button,{label:B,icon:"pi pi-check",className:"p-button-text",onClick:function(){var t;t=J.correo,xe.removeOne(t).then((function(e){e.data?(ne(),he(f)):he(N)})).catch((function(e){console.error(e),he(N)})),m(!1),V(e)}})]}),ge=Object(ve.jsx)("div",{className:"table-header",children:Object(ve.jsxs)("span",{className:"p-input-icon-left",children:[Object(ve.jsx)("i",{className:"pi pi-search"}),Object(ve.jsx)(je.InputText,{type:"search",value:_,onInput:function(e){return q(e.target.value)},placeholder:"Buscar..."})]})});return Object(ve.jsxs)("div",{className:"p-grid",children:[Object(ve.jsx)(me.Toast,{ref:ae}),Object(ve.jsxs)("div",{className:"p-col p-p-3",children:[Object(ve.jsx)("h2",{children:"Tabla de usuarios"}),Object(ve.jsxs)("div",{className:"card",children:[Object(ve.jsx)(st.Toolbar,{className:"p-mb-4",left:function(){return Object(ve.jsx)(n.a.Fragment,{children:Object(ve.jsx)(be.Button,{label:"Nuevo usuario",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:ie})})},right:function(){return Object(ve.jsx)(n.a.Fragment,{children:Object(ve.jsx)(be.Button,{label:"Exportar en CSV",icon:"pi pi-download",className:"p-button",style:{backgroundColor:"var(--teal-600)"},onClick:ue})})}}),Object(ve.jsxs)(qe.DataTable,{ref:ce,value:i,selection:D,onSelectionChange:function(e){return T(e.value)},dataKey:"correo",paginator:!0,rows:7,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Mostrando {first} a {last} de {totalRecords} usuarios",globalFilter:_,header:ge,emptyMessage:"Sin ningun usuario a\xfan",children:[Object(ve.jsx)(Me.Column,{field:"nombre",header:"Nombre",sortable:!0}),Object(ve.jsx)(Me.Column,{field:"primerApellido",header:"Primer apellido",sortable:!0}),Object(ve.jsx)(Me.Column,{field:"segundoApellido",header:"Segundo apellido",sortable:!0}),Object(ve.jsx)(Me.Column,{field:"fechaDeNacimiento",header:"Fecha de nacimiento",body:function(e){return Object(ve.jsx)(n.a.Fragment,{children:Object(ve.jsx)("div",{children:Ae()(e.fechaDeNacimiento).format("LL")})})},sortable:!0}),Object(ve.jsx)(Me.Column,{field:"correo",header:"Correo electr\xf3nico",sortable:!0}),Object(ve.jsx)(Me.Column,{field:"superAdmin",header:"Super administrador",body:function(e){return Object(ve.jsx)(n.a.Fragment,{children:e.superAdmin?Object(ve.jsx)(Ce.Badge,{value:B,severity:"success",className:"p-mr-2"}):Object(ve.jsx)(Ce.Badge,{value:E,className:"p-mr-2",severity:"danger"})})}}),Object(ve.jsx)(Me.Column,{header:"Acciones",body:function(e){return Object(ve.jsxs)(n.a.Fragment,{children:[Object(ve.jsx)(be.Button,{icon:"pi pi-pencil",className:"p-button-rounded p-button-info p-mr-2",onClick:function(){return function(e){V(Object(ye.a)({},e)),d(!0)}(e)}}),Object(ve.jsx)(be.Button,{icon:"pi pi-trash",className:"p-button-rounded p-button-danger p-mr-2",onClick:function(){return function(e){V(e),m(!0)}(e)}}),Object(ve.jsx)(be.Button,{icon:"pi pi-replay",className:"p-button-rounded p-button-warning",onClick:function(){return function(e){ae.current.show({severity:"warn",sticky:!0,content:Object(ve.jsxs)("div",{className:"p-flex p-flex-column",style:{flex:"1"},children:[Object(ve.jsxs)("div",{className:"p-text-center",children:[Object(ve.jsx)("i",{className:"pi pi-exclamation-triangle",style:{fontSize:"3rem"}}),Object(ve.jsx)("h4",{children:"\xbfRestablecer la contrase\xf1a de este usuario?"}),Object(ve.jsx)("p",{children:" Se le enviar\xe1 un correo electr\xf3nico a esa persona con la nueva contrase\xf1a"})]}),Object(ve.jsxs)("div",{className:"p-grid p-fluid",children:[Object(ve.jsx)("div",{className:"p-col",children:Object(ve.jsx)(be.Button,{type:"button",label:B,className:"p-button-success",onClick:function(){return pe(e)}})}),Object(ve.jsx)("div",{className:"p-col",children:Object(ve.jsx)(be.Button,{type:"button",label:E,className:"p-button-danger",onClick:function(){ae.current.clear()}})})]})]})})}(e)}})]})}})]}),Object(ve.jsx)(Ve.Dialog,{visible:l,style:{width:"450px"},header:"Detalles de usuario",modal:!0,className:"p-fluid",footer:Oe,onHide:se,children:Object(ve.jsxs)("div",{className:"p-fluid",children:[Object(ve.jsxs)("div",{className:"p-field",children:[Object(ve.jsx)("label",{htmlFor:"nombre",children:y}),Object(ve.jsx)(je.InputText,{id:"nombre",name:"nombre",type:"text",value:J.nombre,onChange:function(e){V(Object(ye.a)(Object(ye.a)({},J),{},{nombre:e.target.value}))},className:!J.nombre&&"p-invalid"}),!J.nombre&&Object(ve.jsx)("small",{id:"nombre-help",className:"p-error p-d-block",children:C})]}),Object(ve.jsxs)("div",{className:"p-field",children:[Object(ve.jsx)("label",{htmlFor:"primerApellido",children:k}),Object(ve.jsx)(je.InputText,{id:"primerApellido",name:"primerApellido",type:"text",value:J.primerApellido,onChange:function(e){V(Object(ye.a)(Object(ye.a)({},J),{},{primerApellido:e.target.value}))},className:!J.primerApellido&&"p-invalid"}),!J.primerApellido&&Object(ve.jsx)("small",{id:"primerApellido-help",className:"p-error p-d-block",children:S})]}),Object(ve.jsxs)("div",{className:"p-field",children:[Object(ve.jsx)("label",{htmlFor:"segundoApellido",children:w}),Object(ve.jsx)(je.InputText,{id:"segundoApellido",name:"segundoApellido",type:"text",value:J.segundoApellido,onChange:function(e){V(Object(ye.a)(Object(ye.a)({},J),{},{segundoApellido:e.target.value}))}})]}),Object(ve.jsxs)("div",{className:"p-field",children:[Object(ve.jsx)("label",{htmlFor:"fechaDeNacimiento",children:A}),Object(ve.jsx)(Ue.Calendar,{id:"fechaDeNacimiento",name:"fechaDeNacimiento",monthNavigator:!0,yearNavigator:!0,yearRange:"1950:2010",showIcon:!0,placeholder:J.fechaDeNacimiento.split("T")[0],dateFormat:"yy-mm-d",value:J.fechaDeNacimiento,onChange:function(e){var t=de.convertOnlyInputDate(e.target.value);V(Object(ye.a)(Object(ye.a)({},J),{},{fechaDeNacimiento:t}))}}),!J.fechaDeNacimiento&&Object(ve.jsx)("small",{id:"fechaDeNacimiento-help",className:"p-error p-d-block",children:F})]}),Object(ve.jsxs)("div",{className:"p-field",children:[Object(ve.jsx)("label",{htmlFor:"correo",children:b}),Object(ve.jsx)(je.InputText,{id:"correo",name:"correo",type:"email",value:J.correo,onChange:function(e){V(Object(ye.a)(Object(ye.a)({},J),{},{correo:e.target.value}))},className:!J.correo&&"p-invalid"}),!J.correo&&Object(ve.jsx)("small",{id:"correo-help",className:"p-error p-d-block",children:I})]}),Object(ve.jsxs)("div",{className:"p-field p-text-center",children:[Object(ve.jsx)("label",{htmlFor:"superAdmin",children:"Super administrador:"}),Object(ve.jsx)("br",{}),Object(ve.jsx)(rt.InputSwitch,{id:"superAdmin",name:"superAdmin",checked:J.superAdmin,onChange:function(e){return V(Object(ye.a)(Object(ye.a)({},J),{},{superAdmin:!J.superAdmin}))}})]})]})}),Object(ve.jsx)(Ve.Dialog,{visible:p,style:{width:"450px"},header:"\xbfEliminar usuario?",modal:!0,footer:fe,onHide:oe,children:Object(ve.jsx)("div",{className:"confirmation-content",children:"El usuario se eliminar\xe1 permanente de la aplicaci\xf3n"})}),Object(ve.jsxs)(Ve.Dialog,{visible:K,style:{width:"450px"},header:"Detalles de usuario",draggable:!1,onHide:le,footer:Object(ve.jsx)(be.Button,{label:"\xa1Listo!",className:"p-button-success",onClick:le}),children:[Object(ve.jsxs)("div",{children:["Nombre completo:"," ",Object(ve.jsx)("span",{children:"".concat(ee.nombre," ").concat(ee.primerApellido," ").concat(ee.segundoApellido)})]}),Object(ve.jsxs)("div",{children:["Fecha de nacimiento:"," ",Object(ve.jsx)("span",{children:"".concat(Ae()(ee.fechaDeNacimiento).format("LLL"))})]}),Object(ve.jsxs)("div",{children:["Correo: ",Object(ve.jsx)("span",{children:"".concat(ee.correo)})]}),Object(ve.jsxs)("div",{children:["Contrase\xf1a creada:"," ",Object(ve.jsx)("span",{children:"".concat(ee.contrasena)}),Object(ve.jsx)("p",{children:Object(ve.jsx)("i",{children:"Favor de guardar y cambiar la contrase\xf1a m\xe1s tarde"})})]})]})]})]})]})}function lt(){var e=Object(c.useState)({superAdmin:!1}),t=Object(re.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)((function(){n(JSON.parse(localStorage.getItem("userActive")))}),[]),Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(ze.BreadCrumb,{model:[{label:"Perfil"}],home:{icon:"pi pi-home"}}),Object(ve.jsx)("div",{className:"p-grid",children:Object(ve.jsx)("div",{className:"p-col",children:Object(ve.jsxs)(nt.TabView,{children:[Object(ve.jsx)(nt.TabPanel,{header:"Datos personales",leftIcon:"pi pi-fw pi-user",children:Object(ve.jsx)(it,{})}),a.superAdmin?Object(ve.jsx)(nt.TabPanel,{header:"Tabla de usuarios",leftIcon:"pi pi-fw pi-pencil",children:Object(ve.jsx)(ot,{})}):Object(ve.jsx)("div",{className:"disable"})]})})})]})}function dt(){return Object(c.useEffect)((function(){Ne()}),[]),Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(Le,{}),Object(ve.jsx)("div",{className:"p-grid p-d-flex",children:Object(ve.jsx)("div",{className:"p-col-10 p-offset-1",children:Object(ve.jsx)(lt,{})})})]})}function ut(){return Object(ve.jsx)("div",{className:"p-d-flex p-ai-center p-jc-center pageerror",children:Object(ve.jsx)("div",{className:"p-col-6",children:Object(ve.jsxs)("div",{className:"p-text-center",children:[Object(ve.jsx)("img",{src:ue,alt:j,height:"100px"}),Object(ve.jsx)("div",{style:{fontSize:"8em",color:"#454545"},children:"404"}),Object(ve.jsx)("div",{style:{fontSize:"3em",color:"#454545"},children:"P\xe1gina no encontrada"}),Object(ve.jsx)("div",{style:{fontSize:"1.5em",color:"#454545"},children:"La p\xe1gina que est\xe1s buscando no existe o ha ocurrido un error"})]})})})}function jt(){return Object(ve.jsx)(ie.a,{children:Object(ve.jsxs)(se.c,{children:[Object(ve.jsx)(se.a,{path:"/sivymo_app/#/",exact:!0,component:ge}),Object(ve.jsx)(se.a,{path:"/sivymo_app/#/inicio",component:Te}),Object(ve.jsx)(se.a,{path:"/sivymo_app/#/patentes",component:Xe}),Object(ve.jsx)(se.a,{path:"/sivymo_app/#/marcas",component:et}),Object(ve.jsx)(se.a,{path:"/sivymo_app/#/expedientes",component:ct}),Object(ve.jsx)(se.a,{path:"/sivymo_app/#/perfil",component:dt}),Object(ve.jsx)(se.a,{component:ut})]})})}Ae.a.locale("es"),Object(r.addLocale)("es",{firstDayOfWeek:1,dayNames:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],dayNamesShort:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],dayNamesMin:["D","L","M","Mi","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],today:"Hoy",clear:"Claro",accept:"Si",reject:"No",choose:"Elija",upload:"Subir",cancel:"Cancelar",passwordPrompt:"Ingrese contrase\xf1a",weak:"D\xe9bil",medium:"Normal",strong:"Fuerte"}),Object(r.locale)("es");var pt=function(e){e&&e instanceof Function&&a.e(5).then(a.bind(null,170)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),i(e),s(e)}))};s.a.render(Object(ve.jsx)(n.a.StrictMode,{children:Object(ve.jsx)(jt,{})}),document.getElementById("root")),pt()},49:function(e,t,a){},83:function(e,t,a){}},[[159,1,2]]]);
//# sourceMappingURL=main.8cdf4975.chunk.js.map